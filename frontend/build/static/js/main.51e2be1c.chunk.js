(this["webpackJsonpbook-garden"]=this["webpackJsonpbook-garden"]||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(22),i=a.n(n),r=(a(79),a(80),a(11)),l=(a(81),a(82),a(6)),o=a(2),d=a(7),j=a(12),b=(a(83),a(1)),u=["icon","text","type","variant","size","className","showText"],m=["icon","text","to","variant","size","className","showText"],x=function(e){var t=e.icon,a=e.text,c=e.type,s=e.variant,n=void 0===s?"":s,i=e.size,r=void 0===i?"":i,l=e.className,o=void 0===l?"":l,m=e.showText,x=Object(j.a)(e,u);return Object(b.jsxs)("button",Object(d.a)(Object(d.a)({type:c,className:"Button ".concat(n," ").concat(r," ").concat(o)},x),{},{children:[t,Object(b.jsx)("span",{className:m?"hidden "+m+":block":"",children:a})]}))},h=function(e){var t=e.icon,a=e.text,c=e.to,s=e.variant,n=void 0===s?"":s,i=e.size,r=void 0===i?"":i,o=e.className,u=void 0===o?"":o,x=e.showText,h=Object(j.a)(e,m);return Object(b.jsxs)(l.b,Object(d.a)(Object(d.a)({to:c,className:"Button ".concat(n," ").concat(r," ").concat(u)},h),{},{children:[t,Object(b.jsx)("span",{className:"hidden md:block"}),Object(b.jsx)("span",{className:x?"hidden "+x+":block":"",children:a})]}))},O=a(18),f=a(19),p=a(3),v=a.n(p),g=a(9),y=a.n(g),N="https://book-garden.herokuapp.com/api/",w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var a in t)e=e.replace(":".concat(a),t[a]);return N+e},k=function(){function e(){Object(O.a)(this,e),this.init()}return Object(f.a)(e,[{key:"init",value:function(){this.authenticated=!1,this.id=null,this.username="",this.password="",this.email="",this.type="",this.library_id=null,this.name="",this.surname="",this.profiledesc=""}},{key:"register",value:function(e){return v.a.post(w("person"),y.a.stringify(Object(d.a)({},e))).then((function(e){return e.data}))}},{key:"login",value:function(e,t){var a=this;return v.a.post(w("session"),y.a.stringify({username:e,password:t})).then((function(e){return a.authenticated=!0,e.data})).catch((function(e){return console.log(e)}))}},{key:"logout",value:function(){var e=this;return v.a.delete(w("session")).then((function(t){return e.authenticated=!1,"success"===t.data.status})).catch((function(e){return console.log(e)}))}},{key:"checkAuthSession",value:function(){var e=this;return v.a.get(w("session")).then((function(t){return 200===t.status&&t.data.data.user_id&&t.data.data.user_type?(e.authenticated=!0,e.id=t.data.data.user_id,e.type=e.convertToUserType(t.data.data.user_type),v.a.get(w("person/:id",{id:e.id})).then((function(t){if("success"===t.data.status)return e.username=t.data.data.username,e.password=t.data.data.password,e.email=t.data.data.email,e.library_id=t.data.data.library_id,e.name=t.data.data.name,e.surname=t.data.data.surname,e.profiledesc=t.data.data.profiledesc,console.log("checkAuthSession: "+e.authenticated),!0;console.log("Can not get user info")}))):(e.authenticated=!1,console.log("checkAuthSession: "+e.authenticated),!1)}))}},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"allowedDashboard",value:function(){return this.isAdmin()||this.isLibrarian()||this.isDistributor()}},{key:"getUserType",value:function(){return this.type}},{key:"getEmployeeLibrary",value:function(){return this.library_id}},{key:"isAdmin",value:function(){return this.isAuthenticated()&&"admin"===this.type}},{key:"isLibrarian",value:function(){return this.isAuthenticated()&&"librarian"===this.type}},{key:"isDistributor",value:function(){return this.isAuthenticated()&&"distributor"===this.type}},{key:"isUser",value:function(){return this.isAuthenticated()&&"user"===this.type}},{key:"convertToUserType",value:function(e){return 5===e?"admin":4===e?"librarian":3===e?"distributor":"user"}}]),e}(),T=new k,S=function(){Object(r.g)();return Object(b.jsxs)("nav",{className:"Navbar Container",children:[Object(b.jsxs)(l.b,{to:"/",className:"Navbar-logo",children:[Object(b.jsx)("b",{children:"BOOK"}),"Garden"]}),Object(b.jsxs)("div",{className:"Navbar-items",children:[Object(b.jsxs)(l.b,{to:"/account",className:"Navbar-link",children:[Object(b.jsx)(o.u,{className:"h-6 mr-2"}),Object(b.jsx)("span",{className:"hidden xl:inline",children:"Account"})]}),T.isAuthenticated()&&T.allowedDashboard()&&Object(b.jsxs)(l.b,{to:"/admin",className:"Navbar-link",children:[Object(b.jsx)(o.j,{className:"h-6 inline mr-2"}),Object(b.jsx)("span",{className:"hidden xl:inline",children:"Dashboard"})]}),T.isAuthenticated()&&Object(b.jsx)(x,{type:"button",onClick:function(){return T.logout().then((function(e){return e?window.location.href="/":console.log("Can not log out.")}))},className:"Navbar-link shadow-none",text:"Log out",icon:Object(b.jsx)(o.m,{className:"h-6 mr-2"}),showText:"xl"})]})]})},L=function(){return Object(b.jsx)("header",{className:"Header",children:Object(b.jsx)(S,{})})},C=(a(112),function(e){var t=e.children;return Object(b.jsx)("main",{className:"Main Container",children:t})}),B=(a(113),function(){return Object(b.jsx)("footer",{className:"Footer",children:Object(b.jsxs)("div",{className:"Footer-container Container",children:["\xa9 2021 ",Object(b.jsx)("b",{children:"BOOK"}),"Garden"]})})}),D=a(4),_=(a(114),["className","message","type","onClick"]),A=function(e){var t=e.className,a=e.message,c=e.type,s=e.onClick,n=Object(j.a)(e,_);return Object(b.jsx)("div",Object(d.a)(Object(d.a)({className:"Alert Alert-".concat(c," ").concat(null!==t&&void 0!==t?t:""),onClick:s},n),{},{children:a}))},F=function(e){return Object(b.jsx)("table",{className:"table-auto w-full",children:e.children})},E=function(e){return Object(b.jsx)("thead",{className:"bg-gray-800 text-white",children:e.children})},U=function(e){return Object(b.jsx)("tbody",{className:"text-gray-700",children:e.children})},P=function(e){return Object(b.jsx)("tr",{className:"".concat(e.striped&&e.index%2?"bg-gray-100":""," text-left"),children:e.children})},R=function(e){var t;return Object(b.jsx)("th",{className:"".concat(null!==(t=e.className)&&void 0!==t?t:""," text-left py-3 px-4 uppercase font-semibold text-sm"),children:e.children})},V=function(e){return Object(b.jsx)("td",{className:"py-3 px-4",children:e.children})},I=function(){return Object(b.jsx)("div",{className:"relative inline-flex",children:Object(b.jsxs)("span",{className:"inline-flex h-3 w-3",children:[Object(b.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),Object(b.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]})})},M=a(10),z=(a(115),["id","type","label","value","name","placeholder","hideLabel"]),J=function(e){var t=e.id,a=e.type,c=e.label,s=e.value,n=e.name,i=e.placeholder,r=e.hideLabel,l=Object(j.a)(e,z);return Object(b.jsxs)("div",{className:"Form-control",children:[Object(b.jsx)("label",{htmlFor:t,className:"Form-control-label ".concat(r?"sr-only":""),children:c}),Object(b.jsx)("input",Object(d.a)({type:a,id:t,name:n,placeholder:i,className:"Form-control-input",defaultValue:s},l))]})},G=(a(116),["id","label","value","name","placeholder","hideLabel"]),H=function(e){var t=e.id,a=e.label,c=e.value,s=e.name,n=e.placeholder,i=e.hideLabel,r=Object(j.a)(e,G);return Object(b.jsxs)("div",{className:"Textarea",children:[Object(b.jsx)("label",{htmlFor:t,className:"Textarea-label ".concat(i?"sr-only":""),children:a}),Object(b.jsx)("textarea",Object(d.a)({id:t,name:s,placeholder:n,className:"Textarea-input",defaultValue:c},r))]})},Y=a(8),q=a.p+"static/media/error.a4a48fb8.svg",K=function(){return Object(b.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(b.jsx)("div",{className:"mb-4 text-4xl font-bold text-red-500",children:"403"}),Object(b.jsx)("div",{className:"mb-8 text-2xl text-gray-600",children:"Not Authorized"}),Object(b.jsx)("img",{src:q,alt:"Not Authorized",className:"h-60"})]})},W=a(74),Q=["roles","librarian"],X=function(e){var t=Object.assign({},e);return T.isAuthenticated()?Object(b.jsx)(r.b,Object(d.a)({},t)):Object(b.jsx)(r.a,{to:"/account/login"})},Z=function(e){var t=e.roles,a=e.librarian,c=Object(j.a)(e,Q),s=c.computedMatch.params.id||c.computedMatch.params.idLibrary,n=Object(W.isArray)(t)&&t.find((function(e){return e===T.getUserType()}))||"all"===t,i=!(a&&!T.isAdmin())||a&&T.isLibrarian()&&T.getEmployeeLibrary()===parseInt(s);return T.isAuthenticated()&&n&&i?Object(b.jsx)(r.b,Object(d.a)({},c)):Object(b.jsx)(K,{})},$=function(e){var t=new Date(e);return t.getDate()+"."+t.getMonth()+"."+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()},ee=function(e){return e.toFixed(2)+"\u20ac"},te=a(15),ae=a.p+"static/media/header.b220e1bf.svg",ce=function(){return Object(b.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-8 h-full",children:[Object(b.jsxs)("div",{className:"mb-8 lg:mb-0",children:[Object(b.jsxs)("div",{className:"text-3xl text-center sm:text-5xl sm:text-left font-bold",children:["Your Favorite",Object(b.jsx)("br",{}),"Book Finder."]}),Object(b.jsx)("div",{className:"text-2xl text-center sm:text-left py-8 md:py-16",children:"When it comes to reading time, we are here to bring you your favorite book, from your favorite library."}),Object(b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row md:gap-8",children:[Object(b.jsx)(h,{to:"/book-titles",text:"Find a Book",variant:"primary",size:"lg",icon:Object(b.jsx)(o.c,{className:"h-6 w-6 inline pr-1"})}),Object(b.jsx)(h,{to:"/libraries",text:"Find a Library",variant:"secondary",size:"lg",icon:Object(b.jsx)(o.l,{className:"h-6 w-6 inline pr-1"})})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:ae,alt:"BookGarden"})})]})},se=function(){var e=Object(c.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){v.a.get(w("library")).then((function(e){return s(e.data.data)})).catch((function(e){return console.log(e)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:"/",variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"flex flex-col gap-4 mt-4",children:a.map((function(e,t){return Object(b.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-start bg-white shadow-md p-8 gap-8 transition transform hover:scale-105 hover:bg-gray-50",children:[Object(b.jsx)("div",{className:"w-full md:w-2/12",children:Object(b.jsx)(o.l,{className:"h-32 bg-indigo-500 text-white rounded-full p-4 mx-auto md:mx-0"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"w-full md:w-10/12 text-2xl font-bold",children:e.name}),Object(b.jsx)("div",{children:e.city}),Object(b.jsx)("div",{className:"text-gray-500",children:e.street}),Object(b.jsx)("div",{className:"text-lg",children:e.open_hours}),Object(b.jsx)("div",{className:"text-sm text-gray-500 italic",children:e.description})]})]},t)}))})]})},ne=function(){var e=Object(r.h)().id;return Object(b.jsxs)("div",{children:["Library ID: ",e]})},ie=function(){var e=Object(r.i)().path;return Object(b.jsxs)(r.d,{children:[Object(b.jsx)(r.b,{path:"".concat(e),component:se,exact:!0}),Object(b.jsx)(r.b,{path:"".concat(e,"/:id"),component:ne})]})},re=(a(198),a(45)),le=function(e){var t=e.rating,a=e.className,s=[],n=[];t=Math.ceil(t);for(var i=Object(c.useState)(null),r=Object(D.a)(i,2),l=r[0],o=r[1],d=function(e){s.push(Object(b.jsx)(re.a,{onMouseEnter:function(){return o(e)},onMouseLeave:function(){return o(null)},className:"".concat(a," transition duration-200 ease-linear cursor-pointer transform ").concat(null!=l&&l>=e&&"scale-125 text-yellow-400"," ").concat(null!=l&&l<=e?"text-gray-400":"text-yellow-400")},e))},j=0;j<t;j++)d(j);if(t<5)for(var u=function(e){n.push(Object(b.jsx)(re.a,{onMouseEnter:function(){return o(e)},onMouseLeave:function(){return o(null)},className:"".concat(a," transition duration-200 ease-linear cursor-pointer transform ").concat(null!=l&&l>=e?"scale-125 text-yellow-400":"")},e))},m=t;m<5;m++)u(m);return Object(b.jsxs)(b.Fragment,{children:[s,n]})},oe=function(e){var t=e.bookTitle;return Object(b.jsxs)(l.b,{to:"/book-titles/".concat(t.id),className:"BookTitleItem",children:[Object(b.jsx)("img",{className:"BookTitleItem-image ".concat(t.availability?"":"filter grayscale","\n        "),src:t.photo,alt:t.name}),Object(b.jsx)("div",{className:"BookTitleItem-name",children:t.name}),Object(b.jsx)("div",{className:"BookTitleItem-genre",children:t.genre}),t.availability?Object(b.jsx)("div",{className:"flex justify-center text-gray-400",children:Object(b.jsx)(le,{rating:t.rating/2,className:"h-4"})}):Object(b.jsx)("div",{className:"text-sm text-red-500",children:"Need Votes"})]})},de=(a(199),function(e){var t=e.children;return Object(b.jsx)("div",{className:"FilterDropdown",children:t})}),je=function(e){var t=Object(c.useState)(e.collapsed),a=Object(D.a)(t,2),s=a[0],n=a[1];return Object(b.jsxs)("div",{className:"FilterDropdownItem collapsed",children:[Object(b.jsx)("div",{className:"FilterDropdownItem-header",onClick:function(){return n(!s)},children:e.title}),Object(b.jsx)("div",{className:"FilterDropdownItem-body",children:e.children})]})},be=function(){var e=Object(c.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),r=i[0],l=i[1],o=Object(c.useState)([]),j=Object(D.a)(o,2),u=j[0],m=j[1],h=Object(c.useState)([]),O=Object(D.a)(h,2),f=O[0],p=O[1],g=Object(c.useState)({}),y=Object(D.a)(g,2),N=y[0],k=y[1];return Object(c.useEffect)((function(){s([]),l([]),m([]),p([]),v.a.get(w("booktitle")).then((function(e){"success"===e.data.status&&e.data.data.map((function(e){return v.a.get(w("stock/filter"),{params:Object(d.a)({booktitle_id:e.id},N)}).then((function(t){t.data.data.length>0&&(e.availability=!!t.data.data.find((function(e){return!0===e.availability})),e.stock=t.data.data,s((function(t){return[].concat(Object(Y.a)(t),[e])})))}))}))})).catch((function(e){return console.log(e)})),v.a.get(w("booktitle/unique/genres")).then((function(e){return e.data.data.map((function(e){return l((function(t){return[].concat(Object(Y.a)(t),[{value:e,label:e}])}))}))})).catch((function(e){return console.log(e)})),v.a.get(w("booktitle/unique/authors")).then((function(e){return e.data.data.map((function(e){return m((function(t){return[].concat(Object(Y.a)(t),[{value:e,label:e}])}))}))})).catch((function(e){return console.log(e)})),v.a.get(w("library")).then((function(e){return e.data.data.map((function(e){return p((function(t){return[].concat(Object(Y.a)(t),[{value:e.id,label:e.name}])}))}))})).catch((function(e){return console.log(e)}))}),[N]),Object(b.jsxs)("div",{className:"flex flex-row flex-wrap",children:[Object(b.jsxs)("form",{method:"get",className:"w-full lg:w-3/12",onSubmit:function(e){e.preventDefault(),function(e){var t,a=new FormData(e),c={},s=Object(M.a)(a.entries());try{for(s.s();!(t=s.n()).done;){var n=t.value;""!==n[1]&&(c[n[0]]=n[1])}}catch(i){s.e(i)}finally{s.f()}k(c)}(e.target)},children:[Object(b.jsxs)(de,{children:[Object(b.jsx)(je,{title:"Genres",collapsed:!0,children:Object(b.jsx)(te.a,{defaultValue:{value:null,label:"Choose Genre"},name:"genre",options:r})}),Object(b.jsx)(je,{title:"Authors",collapsed:!0,children:Object(b.jsx)(te.a,{defaultValue:{value:null,label:"Choose Author"},name:"author",options:u})}),Object(b.jsx)(je,{title:"Libraries",collapsed:!0,children:Object(b.jsx)(te.a,{defaultValue:{value:null,label:"Choose Library"},name:"library_id",options:f})}),Object(b.jsx)(je,{title:"Availability",collapsed:!0,children:Object(b.jsx)(te.a,{defaultValue:{value:null,label:"Choose Availability"},name:"availability",options:[{value:!0,label:"Available"},{value:!1,label:"Not Available"}]})})]}),Object(b.jsxs)("div",{className:"flex justify-between mt-4",children:[Object(b.jsx)(x,{type:"submit",text:"Apply Filters",variant:"secondary"}),Object(b.jsx)(x,{type:"button",text:"Reset Filters",variant:"red-light",onClick:function(){window.location.href="/book-titles"}})]})]}),Object(b.jsx)("div",{className:"w-full lg:w-9/12 flex flex-row flex-wrap content-start",children:a.map((function(e,t){return Object(b.jsx)("div",{className:"p-2 w-6/12 lg:w-4/12 xl:w-3/12 h-auto",children:Object(b.jsx)(oe,{bookTitle:e},t)},t)}))})]})},ue=(a(200),function(e){var t=e.bookTitle;return Object(b.jsxs)("div",{className:"BookTitle",children:[Object(b.jsx)("div",{className:"BookTitle-image",children:Object(b.jsx)("img",{src:t.photo,alt:t.name})}),Object(b.jsx)("div",{className:"BookTitle-name",children:t.name}),Object(b.jsx)("div",{className:"BookTitle-author",children:t.author}),Object(b.jsxs)("div",{className:"w-full flex flex-row justify-between items-center my-2",children:[Object(b.jsx)("div",{className:"BookTitle-genre",children:Object(b.jsx)("span",{className:"Link mr-2 transform hover:scale-105 transition duration-200 ease-linear",children:t.genre})}),Object(b.jsx)("div",{className:"BookTitle-rating",children:Object(b.jsx)(le,{rating:t.rating/2,className:"h-6"})})]}),Object(b.jsx)("div",{className:"BookTitle-description",children:t.description}),Object(b.jsxs)("div",{className:"BookTitle-details",children:[Object(b.jsx)("div",{className:"font-bold text-lg",children:"Book details:"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"ISBN:"})," ",t.isbn]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Publisher:"})," ",t.publisher]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Date Published:"})," ",t.date_publication]})]}),Object(b.jsx)("div",{className:"border-b border-gray-200 w-1/2 my-4 m-auto"})]})}),me=(a(201),function(e){return Object(b.jsxs)("div",{className:"Breadcrumb",children:[Object(b.jsx)(h,{to:e.backLink,variant:"primary",size:"sm",className:"Breadcrumb-back",text:"Back",icon:Object(b.jsx)(o.b,{className:"h-4 inline-block mr-1"})}),Object(b.jsx)("nav",{className:"Breadcrumb-items",children:Object(b.jsxs)("ol",{children:[Object(b.jsx)("li",{className:"Breadcrumb-item",children:Object(b.jsx)(l.b,{to:"/",children:"Home"})}),e.items.map((function(e,t){return Object(b.jsx)("li",{className:"Breadcrumb-item ".concat(e.active?"active":""),children:e.active?e.name:Object(b.jsx)(l.b,{to:e.url,children:e.name})},t)}))]})})]})}),xe=function(){var e,t=Object(c.useState)({}),a=Object(D.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)([]),d=Object(D.a)(i,2),j=d[0],u=d[1],m=Object(c.useState)([]),h=Object(D.a)(m,2),O=h[0],f=h[1],p=Object(c.useState)(null),g=Object(D.a)(p,2),N=g[0],k=g[1],S=Object(c.useRef)(null),L=function(){return S.current.scrollIntoView()},C=Object(r.h)().id;Object(c.useEffect)((function(){u([]),v.a.get(w("booktitle/:id",{id:C})).then((function(e){n(e.data.data);var t=e.data.data;v.a.get(w("library")).then((function(e){e.data.data.map((function(e){return v.a.get(w("stock/filter"),{params:{library_id:e.id,booktitle_id:t.id}}).then((function(t){e.stock=t.data.data[0],u((function(t){return[].concat(Object(Y.a)(t),[e])}))})).catch((function(e){return console.log(e)}))}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),v.a.get(w("voting/votesofperson/:id",{id:T.id})).then((function(e){return f(e.data.data)})).catch((function(e){return console.log(e)}))}),[C,N]);var B=[{name:"Book Titles",url:"/book-titles"},{name:(null===(e=s.name)||void 0===e?void 0:e.substr(0,15))+"...",url:"/book-titles/".concat(s.id),active:!0}];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(me,{backLink:"/book-titles",items:B}),Object(b.jsx)(ue,{bookTitle:s}),Object(b.jsxs)("div",{className:"w-full lg:w-1/2 mx-auto",children:[N&&Object(b.jsx)(A,{message:N.message,type:N.type,onClick:function(){return k(null)},ref:S}),T.isAuthenticated()?j.map((function(e,t){return Object(b.jsx)("div",{className:"bg-white p-4 shadow mb-2",children:Object(b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[Object(b.jsxs)("div",{className:"w-full sm:w-2/3",children:[e.name,Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Stock:"})," ",e.stock.amount,Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:"Availability:"})," ",e.stock.availability?Object(b.jsx)("span",{className:"text-green-500",children:"Available"}):Object(b.jsx)("span",{className:"text-red-500",children:"Need Votes"})]},t)]}),Object(b.jsx)("div",{className:"w-full sm:w-1/3 mt-4 sm:mt-0",children:e.stock.availability?Object(b.jsx)(x,{type:"button",variant:"yellow-light",text:"Reserve",icon:Object(b.jsx)(o.s,{className:"h-6 mr-1"}),className:"min-w-full",onClick:function(){return t=e.stock.id,void v.a.post(w("reservation"),y.a.stringify({stock_id:t})).then((function(e){"success"===e.data.status?k({message:"Book reserved",type:"success"}):(window.scrollTo(0,0),k({message:e.data.message,type:"danger"})),L()}));var t}}):O.find((function(t){return t.stock_id===e.stock.id}))?Object(b.jsx)(x,{type:"button",variant:"red-light",text:"Remove Vote",icon:Object(b.jsx)(o.q,{className:"h-6 mr-1"}),className:"min-w-full",onClick:function(){return t=e.stock.id,void O.find((function(e){return e.stock_id===t?v.a.delete(w("voting/:id",{id:e.id})).then((function(e){"success"===e.data.status?k({message:"Vote has been removed",type:"success"}):k({message:e.data.message,type:"danger"}),L()})).catch((function(e){return console.log(e)})):""}));var t}}):Object(b.jsx)(x,{type:"button",variant:"secondary",text:"Vote",icon:Object(b.jsx)(o.r,{className:"h-6 mr-1"}),className:"min-w-full",onClick:function(){return t=e.stock.id,void v.a.post(w("voting"),y.a.stringify({stock_id:t})).then((function(e){"success"===e.data.status?k({message:"Book voted",type:"success"}):k({message:e.data.message,type:"danger"}),L()})).catch((function(e){return console.log(e)}));var t}})})]})},t)})):Object(b.jsxs)("div",{className:"bg-white p-4 shadow mb-2",children:["To ",Object(b.jsx)("b",{children:"reserve"})," or ",Object(b.jsx)("b",{children:"vote"})," for this book, you need to"," ",Object(b.jsx)(l.b,{to:Ce("Account"),className:"Link",children:"Login"}),"."]})]})]})},he=function(){var e=Object(r.i)().path;return Object(b.jsxs)(r.d,{children:[Object(b.jsx)(r.b,{path:e,component:be,exact:!0}),Object(b.jsx)(r.b,{path:"".concat(e,"/:id"),component:xe})]})},Oe=function(){var e=Object(c.useState)(""),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),i=Object(D.a)(n,2),o=i[0],d=i[1],j=Object(c.useState)(null),u=Object(D.a)(j,2),m=u[0],h=u[1];Object(r.g)();return Object(b.jsxs)("div",{className:"w-full sm:w-6/12 xl:w-4/12 mx-auto py-16 px-8 bg-white shadow-sm",children:[Object(b.jsx)("div",{className:"uppercase text-center font-bold text-lg mb-8",children:"Login"}),Object(b.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault(),T.login(a,o).then((function(e){"success"===e.status?window.location.href="/account/profile":(window.scrollTo(0,0),h({message:e.message,type:"danger"}))}))},children:[m&&Object(b.jsx)(A,{message:m.message,type:m.type,onClick:function(){return h(null)}}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)(J,{type:"username",id:"username",label:"Username",placeholder:"joe.doe",onChange:function(e){return s(e.target.value)}}),Object(b.jsx)(J,{type:"password",id:"password",label:"Password",placeholder:"Password",onChange:function(e){return d(e.target.value)}})]}),Object(b.jsx)(x,{type:"submit",variant:"primary",text:"Login",className:"block w-full"})]}),Object(b.jsxs)("div",{className:"text-center mt-4",children:["Don't have an account?",Object(b.jsx)(l.b,{to:"/account/register",className:"Link ml-1",children:"Create one"}),"."]})]})},fe=function(){Object(r.g)();var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1];return Object(b.jsxs)("div",{className:"w-full sm:w-6/12 xl:w-4/12 mx-auto py-16 px-8 bg-white shadow-sm",children:[Object(b.jsx)("div",{className:"uppercase text-center font-bold text-lg mb-8",children:"Create an account"}),Object(b.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault(),function(e){var t,a=new FormData(e),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}T.register(c).then((function(e){"success"===e.status?window.location.href="/account/login":(window.scrollTo(0,0),s({message:e.message,type:"danger"}))})).catch((function(e){return console.log(e)}))}(e.target)},children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsxs)("div",{className:"flex flex-row",children:[Object(b.jsx)("div",{className:"pr-2",children:Object(b.jsx)(J,{type:"text",id:"name",name:"name",label:"First Name",placeholder:"Joe"})}),Object(b.jsx)("div",{className:"pl-2",children:Object(b.jsx)(J,{type:"text",id:"surname",name:"surname",label:"Last Name",placeholder:"Doe"})})]}),Object(b.jsx)(J,{type:"text",id:"username",name:"username",label:"Username",placeholder:"joe.doe"}),Object(b.jsx)(J,{type:"email",id:"email",name:"email",label:"Email",placeholder:"joe.doe@example.com"}),Object(b.jsx)(J,{type:"password",id:"password",name:"password",label:"Password",placeholder:"Password"})]}),Object(b.jsx)(x,{to:"submit",variant:"primary",text:"Register",className:"block w-full"})]}),Object(b.jsxs)("div",{className:"text-center mt-4",children:["Already have an account?",Object(b.jsx)(l.b,{to:"/account/login",className:"Link ml-1",children:"Log in"}),"."]})]})},pe=function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1];return Object(b.jsx)("div",{className:"Content",children:Object(b.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[Object(b.jsxs)("div",{className:"w-full lg:w-6/12 mb-8 lg:mb-0",children:[Object(b.jsx)(o.u,{className:"mx-auto h-32 bg-indigo-600 text-white rounded-full p-4"}),Object(b.jsx)("div",{className:"my-4 text-2xl text-center font-bold",children:T.username}),Object(b.jsx)("div",{className:"italic text-center px-16",children:T.profiledesc}),Object(b.jsxs)("div",{className:"flex flex-row items-center justify-center gap-4 mt-8",children:[Object(b.jsx)(h,{to:"/account/reservations",variant:"secondary",icon:Object(b.jsx)(o.h,{className:"h-6"}),text:"Reservations"}),Object(b.jsx)(h,{to:"/account/borrowings",variant:"secondary",icon:Object(b.jsx)(o.s,{className:"h-6"}),text:"Borrowings"}),Object(b.jsx)(h,{to:"/account/voting",variant:"secondary",icon:Object(b.jsx)(o.r,{className:"h-6"}),text:"Voting"})]})]}),Object(b.jsxs)("form",{method:"post",className:"w-full lg:w-6/12",onSubmit:function(e){e.preventDefault(),function(e){var t,a=new FormData(e),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.put(w("person/:id",{id:T.id}),y.a.stringify(Object(d.a)({},c))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"Profile Edited Successfully",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))}(e.target)},children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsx)("h1",{className:"Content-Title",children:"Account Information"}),Object(b.jsx)(J,{type:"text",id:"name",name:"name",label:"First Name",value:T.name,placeholder:"Joe"}),Object(b.jsx)(J,{type:"text",id:"surname",name:"surname",label:"Last Name",value:T.surname,placeholder:"Doe"}),Object(b.jsx)(J,{type:"text",id:"username",name:"username",label:"Username",value:T.username,placeholder:"joe.doe"}),Object(b.jsx)(J,{type:"email",id:"email",name:"email",label:"E-Mail",value:T.email,placeholder:"joe.doe@example.com"}),Object(b.jsx)(H,{id:"description",name:"description",label:"Description",value:T.profiledesc,placeholder:"Lorem ipsum..."}),Object(b.jsx)("hr",{className:"my-4"}),Object(b.jsx)("h1",{className:"Content-Title",children:"Change Password"}),Object(b.jsx)(J,{type:"password",id:"password",name:"password",label:"Password",value:T.password,placeholder:"New Password"}),Object(b.jsx)("div",{className:"flex flex-end",children:Object(b.jsx)(x,{type:"submit",text:"Save",variant:"primary",className:"ml-auto",icon:Object(b.jsx)(o.p,{className:"h-6 mr-1"})})})]})]})})},ve=function(){var e=Object(c.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(null),i=Object(D.a)(n,2),l=i[0],d=i[1],j=Object(r.h)().id;return Object(c.useEffect)((function(){s([]),v.a.get(w("reservation/person/:id",{id:T.id})).then((function(e){e.data.data.map((function(e){return v.a.get(w("stockinfo/:id",{id:e.stock_id})).then((function(t){"success"===t.data.status&&(e.stock=t.data.data,s((function(t){return[].concat(Object(Y.a)(t),[e])})))}))}))})).catch((function(e){return console.log(e)}))}),[j,l]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"flex justify-between",children:Object(b.jsx)(h,{to:"/account/profile",variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"})}),Object(b.jsxs)("div",{className:"Content mt-4",children:[l&&Object(b.jsx)(A,{message:l.message,type:l.type,onClick:function(){return d(null)}}),Object(b.jsxs)("h1",{className:"Content-Title relative",children:["Your Reservations ",a.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{children:"#"}),Object(b.jsx)(R,{children:"Library"}),Object(b.jsx)(R,{children:"Book"}),Object(b.jsx)(R,{children:"Date Reservation"}),Object(b.jsx)(R,{children:"Actions"})]})}),Object(b.jsx)(U,{children:a.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:e.id}),Object(b.jsx)(V,{children:e.stock.Library_name}),Object(b.jsx)(V,{children:e.stock.Book_title}),Object(b.jsx)(V,{children:e.date_of_reservation}),Object(b.jsx)(V,{children:Object(b.jsx)("div",{className:"flex items-center gap-2",children:Object(b.jsx)(x,{type:"button",variant:"red",icon:Object(b.jsx)(o.t,{className:"h-6 mr-0 md:mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void v.a.delete(w("reservation/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),d({message:"Reservation deleted",type:"success"})):(window.scrollTo(0,0),d({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})})})]},t)}))})]})})]})]})},ge=function(){var e=Object(c.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(null),i=Object(D.a)(n,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){s([]),v.a.get(w("borrowing/person/:id",{id:T.id})).then((function(e){"success"===e.data.status&&e.data.data.map((function(e){return v.a.get(w("stockinfo/:id",{id:e.id})).then((function(t){"success"===t.data.status&&(e.stock=t.data.data,s((function(t){return[].concat(Object(Y.a)(t),[e])})))}))}))})).catch((function(e){return console.log(e)}))}),[r]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"flex justify-between",children:Object(b.jsx)(h,{to:"/account/profile",variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"})}),Object(b.jsxs)("div",{className:"Content mt-4",children:[r&&Object(b.jsx)(A,{message:r.message,type:r.type,onClick:function(){return l(null)}}),Object(b.jsxs)("h1",{className:"Content-Title relative",children:["Your Borrowings ",a.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{children:"#"}),Object(b.jsx)(R,{children:"Library"}),Object(b.jsx)(R,{children:"Book"}),Object(b.jsx)(R,{children:"Date Borrowed"}),Object(b.jsx)(R,{children:"Date Returned"}),Object(b.jsx)(R,{children:"Fine"})]})}),Object(b.jsx)(U,{children:a.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:e.id}),Object(b.jsx)(V,{children:e.stock.Library_name}),Object(b.jsx)(V,{children:e.stock.Book_title}),Object(b.jsx)(V,{children:$(e.date_borrowed)}),Object(b.jsx)(V,{children:$(e.date_returned)}),Object(b.jsx)(V,{children:ee(e.fine)})]},t)}))})]})})]})]})},ye=function(){var e=Object(c.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(null),i=Object(D.a)(n,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){s([]),v.a.get(w("voting/votesofperson/:id",{id:T.id})).then((function(e){return e.data.data.map((function(e){return v.a.get(w("stockinfo/:id",{id:e.id})).then((function(t){"success"===t.data.status&&(e.stock=t.data.data,s((function(t){return[].concat(Object(Y.a)(t),[e])})))}))}))})).catch((function(e){return console.log(e)}))}),[r]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"flex justify-between",children:Object(b.jsx)(h,{to:"/account/profile",variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"})}),Object(b.jsxs)("div",{className:"Content mt-4",children:[r&&Object(b.jsx)(A,{message:r.message,type:r.type,onClick:function(){return l(null)}}),Object(b.jsxs)("h1",{className:"Content-Title relative",children:["Your votes ",a.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{children:"#"}),Object(b.jsx)(R,{children:"Library"}),Object(b.jsx)(R,{children:"Book"}),Object(b.jsx)(R,{children:"Actions"})]})}),Object(b.jsx)(U,{children:a.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:e.id}),Object(b.jsx)(V,{children:e.stock.Library_name}),Object(b.jsx)(V,{children:e.stock.Book_title}),Object(b.jsx)(V,{children:Object(b.jsx)(x,{type:"button",variant:"red-light",text:"Remove Vote",icon:Object(b.jsx)(o.q,{className:"h-6 mr-0 lg:mr-1"}),showText:"lg",onClick:function(){return t=e.id,void v.a.delete(w("voting/:id",{id:t})).then((function(){return window.scrollTo(0,0),l({message:"Vote has been removed",type:"success"})})).catch((function(e){return console.log(e)}));var t}})})]},t)}))})]})})]})]})},Ne=function(){return T.isAuthenticated()?Object(b.jsx)(r.a,{to:"/account/profile"}):Object(b.jsx)(r.a,{to:"/account/login"})},we=function(){var e=Object(r.i)().path;return Object(b.jsxs)(r.d,{children:[Object(b.jsx)(r.b,{path:"".concat(e,"/login"),component:Oe}),Object(b.jsx)(r.b,{path:"".concat(e,"/register"),component:fe}),Object(b.jsx)(X,{path:"".concat(e,"/profile"),component:pe}),Object(b.jsx)(X,{path:"".concat(e,"/reservations"),component:ve,exact:!0}),Object(b.jsx)(X,{path:"".concat(e,"/borrowings"),component:ge}),Object(b.jsx)(X,{path:"".concat(e,"/voting"),component:ye}),Object(b.jsx)(r.b,{path:"/",component:Ne})]})},ke=function(){return T.isAuthenticated()&&T.allowedDashboard()?Object(b.jsx)(r.a,{to:"/admin/dashboard"}):Object(b.jsx)(K,{})},Te=function(){var e=Object(r.i)().path;return Object(b.jsxs)(r.d,{children:[Object(b.jsx)(r.b,{exact:!0,path:e,component:ke}),Le.map((function(t,a){return Object(b.jsx)(Z,{path:e+t.url,component:t.component,roles:t.roles,exact:t.exact,librarian:t.librarian},a)}))]})},Se=(a(202),[{name:"Home",url:"/",component:ce,exact:!0},{name:"BookTitle",url:"/book-titles",component:he},{name:"Library",url:"/libraries",component:ie},{name:"Account",url:"/account",component:we},{name:"Admin",url:"/admin",component:Te}]),Le=[{name:"Dashboard",url:"/dashboard",roles:["admin","librarian","distributor"],component:function(){var e=[{name:"Book Titles",url:"/admin/book-titles",icon:Object(b.jsx)(o.c,{className:"h-12 mx-auto text-indigo-600"}),roles:["admin","librarian","distributor"]},{name:"Libraries",url:"/admin/libraries",icon:Object(b.jsx)(o.l,{className:"h-12 mx-auto text-indigo-600"}),roles:["admin","admin"]},{name:"Library",url:"/admin/libraries/"+T.library_id,icon:Object(b.jsx)(o.l,{className:"h-12 mx-auto text-indigo-600"}),roles:["librarian"]},{name:"Reservations",url:"/admin/libraries/"+T.library_id+"/reservations",icon:Object(b.jsx)(o.h,{className:"h-12 mx-auto text-indigo-600"}),roles:["librarian"]},{name:"Borrowings",url:"/admin/libraries/"+T.library_id+"/borrowings",icon:Object(b.jsx)(o.s,{className:"h-12 mx-auto text-indigo-600"}),roles:["librarian"]},{name:"Users",url:"/admin/users",icon:Object(b.jsx)(o.u,{className:"h-12 mx-auto text-indigo-600"}),roles:["admin"]},{name:"Stock",url:"/admin/libraries/"+T.library_id+"/stock",icon:Object(b.jsx)(o.a,{className:"h-12 mx-auto text-indigo-600"}),roles:["librarian"]},{name:"Orders",url:"/admin/orders",icon:Object(b.jsx)(o.i,{className:"h-12 mx-auto text-indigo-600"}),roles:["admin","distributor"]}];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-2xl text-center font-bold my-8",children:"Welcome back"}),Object(b.jsx)("div",{className:"flex items-center flex-wrap",children:e.map((function(e,t){return!!e.roles.find((function(e){return e===T.getUserType()}))&&Object(b.jsx)("div",{className:"w-full lg:w-3/12 p-2",children:Object(b.jsxs)(l.b,{to:e.url,className:"block border-2 bg-white border-transparent rounded-md text-center px-4 py-8 hover:shadow-md hover:border-indigo-600 transition",children:[e.icon,Object(b.jsx)("div",{className:"text-xl font-semibold text-indigo-600 mt-4",children:e.name})]},t)},t)}))})]})},exact:!0},{name:"BookTitleList",url:"/book-titles",roles:["admin","librarian","distributor"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){v.a.get(w("booktitle")).then((function(e){return l(e.data.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsx)(h,{to:Be("Dashboard"),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(b.jsx)(h,{to:Be("BookTitleCreate"),variant:"green",icon:Object(b.jsx)(o.o,{className:"h-6 mr-1"}),text:"New Book"})]}),Object(b.jsxs)("div",{className:"Content mt-4",children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsxs)("h1",{className:"Content-Title",children:["Book titles ",r.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{className:"w-1/6"}),Object(b.jsx)(R,{children:"Name"}),Object(b.jsx)(R,{className:"w-1/4",children:"Actions"})]})}),Object(b.jsx)(U,{children:r.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:Object(b.jsx)("img",{src:e.photo,alt:e.name,className:"h-16"})}),Object(b.jsx)(V,{children:e.name}),Object(b.jsx)(V,{children:Object(b.jsxs)("div",{className:"flex items-center gap-2",children:[Object(b.jsx)(h,{to:"/book-titles/"+e.id,variant:"primary",icon:Object(b.jsx)(o.k,{className:"h-6 mr-1"}),text:"Open",showText:"md",target:"_blank"}),Object(b.jsx)(h,{to:Be("BookTitleEdit",{id:e.id}),variant:"yellow",icon:Object(b.jsx)(o.n,{className:"h-6 mr-1"}),text:"Edit",showText:"md"}),Object(b.jsx)(x,{type:"button",variant:"red",icon:Object(b.jsx)(o.t,{className:"h-6 mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void v.a.delete(w("booktitle/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"Book Title Deleted",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})},exact:!0},{name:"BookTitleCreate",url:"/book-titles/create",roles:["admin","librarian","distributor"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:Be("BookTitleList"),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.post(w("booktitle"),y.a.stringify(Object(d.a)({},c))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"Book Title Created Successfully",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsx)(J,{type:"text",id:"name",name:"name",label:"Book Name",placeholder:"Example Book"}),Object(b.jsx)(J,{type:"text",id:"author",name:"author",label:"Author",placeholder:"Joe Doe"}),Object(b.jsx)(J,{type:"text",id:"isbn",name:"isbn",label:"ISBN",placeholder:"3232183828"}),Object(b.jsx)(J,{type:"number",id:"date_publication",name:"date_publication",label:"Publish Date",placeholder:"1998"}),Object(b.jsx)(J,{type:"text",id:"publisher",name:"publisher",label:"Publisher",placeholder:"Example Publisher"}),Object(b.jsx)(J,{type:"text",id:"genre",name:"genre",label:"Genre",placeholder:"e.g. Action"}),Object(b.jsx)(J,{type:"number",id:"rating",name:"rating",label:"Rating",placeholder:"10",min:0,max:10}),Object(b.jsx)(J,{type:"text",id:"photo",name:"photo",label:"Picture",placeholder:"https://mrtns.eu/tovar/_l/440/l440953.jpg"}),Object(b.jsx)(H,{type:"text",id:"description",name:"description",label:"Description",placeholder:"Lorem ipsum..."}),Object(b.jsx)("div",{className:"flex items-end",children:Object(b.jsx)(x,{type:"submit",text:"Create",variant:"green",className:"ml-auto",icon:Object(b.jsx)(o.o,{className:"h-6 mr-1"})})})]})})]})}},{name:"BookTitleEdit",url:"/book-titles/:id/edit",roles:["admin","librarian","distributor"],component:function(){var e=Object(r.h)().id,t=Object(c.useState)([]),a=Object(D.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(null),l=Object(D.a)(i,2),j=l[0],u=l[1];return Object(c.useEffect)((function(){v.a.get(w("booktitle/:id",{id:e})).then((function(e){return n(e.data.data)})).catch((function(e){return console.log(e)}))}),[e,j]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:"/admin/book-titles",variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[Object(b.jsxs)("div",{className:"w-full lg:w-6/12 mb-8 lg:mb-0 text-center",children:[Object(b.jsx)("img",{src:s.photo,alt:s.name,className:"h-64 inline"}),Object(b.jsx)("div",{className:"my-4 text-2xl text-center font-bold",children:s.name}),Object(b.jsx)("div",{className:"italic text-center",children:s.author})]}),Object(b.jsxs)("form",{method:"post",className:"w-full lg:w-6/12",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.put(w("booktitle/:id",{id:s.id}),y.a.stringify(Object(d.a)({},c))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),u({message:"Book Title Edited Successfully",type:"success"})):(window.scrollTo(0,0),u({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[j&&Object(b.jsx)(A,{message:j.message,type:j.type,onClick:function(){return u(null)}}),Object(b.jsx)(J,{type:"text",id:"name",name:"name",label:"Book Name",value:s.name,placeholder:"Example Book"}),Object(b.jsx)(J,{type:"text",id:"author",name:"author",label:"Author",value:s.author,placeholder:"Joe Doe"}),Object(b.jsx)(J,{type:"text",id:"isbn",name:"isbn",label:"ISBN",value:s.isbn,placeholder:"3232183828"}),Object(b.jsx)(J,{type:"text",id:"date_publication",name:"date_publication",value:s.date_publication,placeholder:"1998",label:"Publish Date"}),Object(b.jsx)(J,{type:"text",id:"publisher",name:"publisher",label:"Publisher",value:s.publisher,placeholder:"Example Publisher"}),Object(b.jsx)(J,{type:"text",id:"genre",name:"genre",label:"Genre",value:s.genre,placeholder:"e.g. Action"}),Object(b.jsx)(J,{type:"number",id:"rating",name:"rating",label:"Rating",value:s.rating,placeholder:"10"}),Object(b.jsx)(J,{type:"text",id:"photo",name:"photo",label:"Picture",value:s.photo,placeholder:"https://mrtns.eu/tovar/_l/440/l440953.jpg"}),Object(b.jsx)(H,{type:"text",id:"description",name:"description",label:"Description",value:s.description,placeholder:"Lorem ipsum..."}),Object(b.jsx)("div",{className:"flex items-end",children:Object(b.jsx)(x,{type:"submit",text:"Save",variant:"primary",className:"ml-auto",icon:Object(b.jsx)(o.p,{className:"h-6 mr-1"})})})]})]})})]})}},{name:"LibraryList",url:"/libraries",roles:["admin"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){v.a.get(w("library")).then((function(e){return l(e.data.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsx)(h,{to:Be("Dashboard"),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"}),Object(b.jsx)(h,{to:Be("LibraryCreate"),variant:"green",icon:Object(b.jsx)(o.o,{className:"h-6 mr-0 md:mr-1"}),text:"New Library"})]}),Object(b.jsxs)("div",{className:"Content mt-4",children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsxs)("h1",{className:"Content-Title",children:["Libraries ",r.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{children:"Name"}),Object(b.jsx)(R,{children:"Address"}),Object(b.jsx)(R,{children:"Actions"})]})}),Object(b.jsx)(U,{children:r.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:e.name}),Object(b.jsxs)(V,{children:[Object(b.jsx)("div",{className:"font-bold",children:e.city}),Object(b.jsx)("div",{className:"hidden lg:block",children:e.street})]}),Object(b.jsx)(V,{children:Object(b.jsxs)("div",{className:"flex items-center gap-2",children:[Object(b.jsx)(h,{to:Be("LibraryShow",{id:e.id}),variant:"primary",icon:Object(b.jsx)(o.g,{className:"h-6 mr-0 md:mr-1"}),text:"Manage",showText:"md"}),Object(b.jsx)(h,{to:Be("LibraryEdit",{id:e.id}),variant:"yellow",icon:Object(b.jsx)(o.n,{className:"h-6 mr-0 md:mr-1"}),text:"Edit",showText:"md"}),Object(b.jsx)(x,{type:"button",variant:"red",icon:Object(b.jsx)(o.t,{className:"h-6 mr-0 md:mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void v.a.delete(w("library/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"Library Deleted",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})},exact:!0},{name:"LibraryCreate",url:"/libraries/create",roles:["admin"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:Be("LibraryList"),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.post(w("library"),y.a.stringify(Object(d.a)({},c))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"Library Created Successfully",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsx)(J,{type:"text",id:"name",name:"name",label:"Library Name",placeholder:"Library"}),Object(b.jsx)(J,{type:"text",id:"city",name:"city",label:"City",placeholder:"London"}),Object(b.jsx)(J,{type:"text",id:"street",name:"street",label:"Street",placeholder:"987 Oxford Street, LN 13224"}),Object(b.jsx)(J,{type:"text",id:"open_hours",name:"open_hours",placeholder:"8:00 - 14:00",label:"Opening hours"}),Object(b.jsx)(H,{type:"text",id:"description",name:"description",label:"Description",placeholder:"Lorem ipsum..."}),Object(b.jsx)("div",{className:"flex items-end",children:Object(b.jsx)(x,{type:"submit",text:"Create",variant:"green",className:"ml-auto",icon:Object(b.jsx)(o.o,{className:"h-6 mr-0 md:mr-1"})})})]})})]})},exact:!0},{name:"LibraryShow",url:"/libraries/:id",roles:["admin","librarian"],component:function(){var e=Object(r.h)().id,t=Object(c.useState)({}),a=Object(D.a)(t,2),s=a[0],n=a[1];return Object(c.useEffect)((function(){v.a.get(w("library/:id",{id:e})).then((function(e){return n(e.data.data)})).catch((function(e){return console.log(e)}))}),[e]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(b.jsx)(h,{to:T.isAdmin()?Be("LibraryList"):Be("Dashboard"),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"}),Object(b.jsx)(h,{to:Be("LibraryEdit",{id:s.id}),text:"Edit",icon:Object(b.jsx)(o.n,{className:"h-6 mr-0 md:mr-1"}),variant:"yellow"})]}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)(o.l,{className:"mx-auto h-32 bg-indigo-600 text-white rounded-full p-4"}),Object(b.jsx)("div",{className:"my-4 text-2xl font-bold",children:s.name}),Object(b.jsxs)("div",{className:"text-gray-500 my-4",children:[Object(b.jsx)("div",{className:"font-bold",children:s.city}),s.street]}),Object(b.jsxs)("div",{className:"text-lg my-4",children:[Object(b.jsx)("b",{children:"Opening Hours:"})," ",s.open_hours]}),Object(b.jsx)("div",{className:"italic text-center px-20",children:s.description}),Object(b.jsxs)("div",{className:"flex flex-col md:flex-row mt-8 gap-4",children:[Object(b.jsx)(h,{to:Be("LibraryReservation",{id:s.id}),text:"Reservations",icon:Object(b.jsx)(o.h,{className:"h-12 mr-2 text-indigo-600"}),variant:"secondary",className:"w-full md:w-1/3"}),Object(b.jsx)(h,{to:Be("LibraryBorrowing",{id:s.id}),text:"Borrowings",icon:Object(b.jsx)(o.s,{className:"h-12 mr-2 text-indigo-600"}),variant:"secondary",className:"w-full md:w-1/3"}),Object(b.jsx)(h,{to:Be("LibraryStock",{id:s.id}),text:"Stock",icon:Object(b.jsx)(o.a,{className:"h-12 mr-2 text-indigo-600"}),variant:"secondary",className:"w-full md:w-1/3"}),Object(b.jsx)(h,{to:Be("LibraryOrderList",{id:s.id}),text:"Orders",icon:Object(b.jsx)(o.i,{className:"h-12 mr-2 text-indigo-600"}),variant:"secondary",className:"w-full md:w-1/3"})]})]})})]})},exact:!0,librarian:!0},{name:"LibraryEdit",url:"/libraries/:id/edit",roles:["admin","librarian"],component:function(){var e=Object(r.h)().id,t=Object(c.useState)({}),a=Object(D.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(null),l=Object(D.a)(i,2),j=l[0],u=l[1];return Object(c.useEffect)((function(){v.a.get(w("library/:id",{id:e})).then((function(e){return n(e.data.data)})).catch((function(e){return console.log(e)}))}),[e,j]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:Be("LibraryShow",{id:s.id}),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[Object(b.jsxs)("div",{className:"w-full lg:w-6/12 mb-8 lg:mb-0 text-center",children:[Object(b.jsx)(o.l,{className:"mx-auto h-32 bg-indigo-600 text-white rounded-full p-4"}),Object(b.jsx)("div",{className:"my-4 text-2xl text-center font-bold",children:s.name}),Object(b.jsx)("div",{className:"italic text-center px-20",children:s.description})]}),Object(b.jsxs)("form",{method:"post",className:"w-full lg:w-6/12",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.put(w("library/:id",{id:s.id}),y.a.stringify(Object(d.a)({},c))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),u({message:"Library Edited Successfully",type:"success"})):(window.scrollTo(0,0),u({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[j&&Object(b.jsx)(A,{message:j.message,type:j.type,onClick:function(){return u(null)}}),Object(b.jsx)(J,{type:"text",id:"name",name:"name",label:"Library Name",value:s.name,placeholder:"Library"}),Object(b.jsx)(J,{type:"text",id:"city",name:"city",label:"City",value:s.city,placeholder:"London"}),Object(b.jsx)(J,{type:"text",id:"street",name:"street",label:"Street",value:s.street,placeholder:"2987 Oxford Street, LN 13224"}),Object(b.jsx)(J,{type:"text",id:"open_hours",name:"open_hours",value:s.open_hours,placeholder:"8:00 - 14:00",label:"Opening hours"}),Object(b.jsx)(H,{type:"text",id:"description",name:"description",label:"Description",value:s.description,placeholder:"Lorem ipsum..."}),Object(b.jsx)("div",{className:"flex items-end",children:Object(b.jsx)(x,{type:"submit",text:"Save",variant:"primary",className:"ml-auto",icon:Object(b.jsx)(o.p,{className:"h-6 mr-0 md:mr-1"})})})]})]})})]})},librarian:!0},{name:"LibraryReservation",url:"/libraries/:id/reservations",roles:["admin","librarian"],component:function(){var e=Object(c.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),l=i[0],d=i[1],j=Object(c.useState)(null),u=Object(D.a)(j,2),m=u[0],O=u[1],f=Object(r.h)().id;return Object(c.useEffect)((function(){s([]),v.a.get(w("library/:id",{id:f})).then((function(e){return d(e.data.data)})).catch((function(e){return console.log(e)})),v.a.get(w("reservation/of/lib/:id",{id:f})).then((function(e){e.data.data.map((function(e){return v.a.all([v.a.get(w("person/:id",{id:e.person_id})),v.a.get(w("stockinfo/:id",{id:e.stock_id}))]).then(v.a.spread((function(t,a){"success"===t.data.status&&"success"===a.data.status?(e.user=t.data.data.name+" "+t.data.data.surname,e.bookTitle=a.data.data.Book_title,s((function(t){return[].concat(Object(Y.a)(t),[e])}))):console.log(t.data,a.data)})))}))})).catch((function(e){return console.log(e)}))}),[f,m]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"flex justify-between",children:Object(b.jsx)(h,{to:Be("LibraryShow",{id:f}),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"})}),Object(b.jsxs)("div",{className:"Content mt-4",children:[m&&Object(b.jsx)(A,{message:m.message,type:m.type,onClick:function(){return O(null)}}),Object(b.jsxs)("h1",{className:"Content-Title relative",children:[l.name,"'s Reservations"," ",a.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{children:"#"}),Object(b.jsx)(R,{children:"User"}),Object(b.jsx)(R,{children:"Book"}),Object(b.jsx)(R,{children:"Date Reservation"}),Object(b.jsx)(R,{children:"Actions"})]})}),Object(b.jsx)(U,{children:a.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:e.id}),Object(b.jsx)(V,{children:e.user}),Object(b.jsx)(V,{children:e.bookTitle}),Object(b.jsx)(V,{children:$(e.date_of_reservation)}),Object(b.jsx)(V,{children:Object(b.jsxs)("div",{className:"flex items-center gap-2",children:[Object(b.jsx)(x,{type:"button",variant:"green",icon:Object(b.jsx)(o.d,{className:"h-6 mr-0 md:mr-1"}),text:"Confirm",showText:"md",onClick:function(){return t=e.id,void v.a.get(w("reservation/confirm/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),O({message:"Reservation confirmed",type:"success"})):(window.scrollTo(0,0),O({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}}),T.isAdmin()&&Object(b.jsx)(x,{type:"button",variant:"red",icon:Object(b.jsx)(o.t,{className:"h-6 mr-0 md:mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void v.a.delete(w("reservation/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),O({message:"Reservation deleted",type:"success"})):(window.scrollTo(0,0),O({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})},librarian:!0},{name:"LibraryBorrowing",url:"/libraries/:id/borrowings",roles:["admin","librarian"],component:function(){var e=Object(c.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)({}),i=Object(D.a)(n,2),l=i[0],d=i[1],j=Object(c.useState)(null),u=Object(D.a)(j,2),m=u[0],O=u[1],f=Object(r.h)().id;return Object(c.useEffect)((function(){s([]),v.a.get(w("borrowing/of/lib/:id",{id:f})).then((function(e){e.data.data.map((function(e){return v.a.all([v.a.get(w("person/:id",{id:e.person_id})),v.a.get(w("stockinfo/:id",{id:e.stock_id}))]).then(v.a.spread((function(t,a){"success"===t.data.status&&"success"===a.data.status?(e.user=t.data.data.name+" "+t.data.data.surname,e.bookTitle=a.data.data.Book_title,s((function(t){return[].concat(Object(Y.a)(t),[e])}))):console.log(t.data,a.data)})))}))})).catch((function(e){return console.log(e)})),v.a.get(w("library/:id",{id:f})).then((function(e){return d(e.data.data)})).catch((function(e){return console.log(e)}))}),[f,m]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"flex justify-between",children:Object(b.jsx)(h,{to:Be("LibraryShow",{id:f}),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"})}),Object(b.jsxs)("div",{className:"Content mt-4",children:[m&&Object(b.jsx)(A,{message:m.message,type:m.type,onClick:function(){return O(null)}}),Object(b.jsxs)("h1",{className:"Content-Title relative",children:[l.name,"'s Borrowings"," ",a.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{className:"w-3/12",children:"User"}),Object(b.jsx)(R,{className:"w-3/12",children:"Book"}),Object(b.jsx)(R,{children:"Date Borrowed"}),Object(b.jsx)(R,{children:"Date To Return"}),Object(b.jsx)(R,{className:"w-3/12",children:"Fine"}),Object(b.jsx)(R,{children:"Actions"})]})}),Object(b.jsx)(U,{children:a.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:e.user}),Object(b.jsx)(V,{children:e.bookTitle}),Object(b.jsx)(V,{children:$(e.date_borrowed)}),Object(b.jsx)(V,{children:$(e.date_returned)}),Object(b.jsx)(V,{children:ee(e.fine)}),Object(b.jsx)(V,{children:Object(b.jsxs)("div",{className:"flex items-center gap-2",children:[Object(b.jsx)(h,{to:Be("LibraryBorrowingEdit",{idLibrary:l.id,idBorrowing:e.id}),variant:"yellow",icon:Object(b.jsx)(o.n,{className:"h-6 mr-0 md:mr-1"}),text:"Edit",showText:"md"}),Object(b.jsx)(x,{type:"button",variant:"red",icon:Object(b.jsx)(o.t,{className:"h-6 mr-0 md:mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void v.a.delete(w("borrowing/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),O({message:"Borrowing deleted",type:"success"})):(window.scrollTo(0,0),O({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})},exact:!0,librarian:!0},{name:"LibraryBorrowingEdit",url:"/libraries/:idLibrary/borrowings/:idBorrowing/edit",roles:["admin","librarian"],component:function(){var e=Object(r.h)(),t=e.idLibrary,a=e.idBorrowing,s=Object(c.useState)({}),n=Object(D.a)(s,2),i=n[0],l=n[1],j=Object(c.useState)(null),u=Object(D.a)(j,2),m=u[0],O=u[1];return Object(c.useEffect)((function(){v.a.get(w("borrowing/:id",{id:a})).then((function(e){return l(e.data.data)})).catch((function(e){return console.log(e)}))}),[a,t,m]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:Be("LibraryBorrowing",{id:t}),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[Object(b.jsx)("div",{className:"w-full lg:w-6/12 mb-8 lg:mb-0 text-center",children:Object(b.jsx)(o.s,{className:"mx-auto h-32 bg-indigo-600 text-white rounded-full p-4"})}),Object(b.jsxs)("form",{method:"post",className:"w-full lg:w-6/12",onSubmit:function(e){e.preventDefault();var t,c=new FormData(e.target),s={},n=Object(M.a)(c.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;s[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.put(w("borrowing/:id",{id:a}),y.a.stringify(Object(d.a)({},s))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),O({message:"Borrowing Edited Successfully",type:"success"})):(window.scrollTo(0,0),O({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[m&&Object(b.jsx)(A,{message:m.message,type:m.type,onClick:function(){return O(null)}}),Object(b.jsx)(J,{type:"text",id:"fine",name:"fine",label:"Fine",value:i.fine,placeholder:"Library"}),Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("div",{className:"mb-1",children:"Date To Return"}),Object(b.jsx)("div",{children:$(i.date_returned)})]}),Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsx)(x,{type:"button",text:"Extend",variant:"yellow",icon:Object(b.jsx)(o.f,{className:"h-6 mr-0 md:mr-1"}),onClick:function(){return function(e,t){v.a.put(w("borrowing/:id",{id:e}),y.a.stringify({extend:!0,fine:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),O({message:"Borrowing updated",type:"success"})):(window.scrollTo(0,0),O({message:e.data.message,type:"danger"}))}))}(a,i.fine)}}),Object(b.jsx)(x,{type:"submit",text:"Save",variant:"primary",icon:Object(b.jsx)(o.p,{className:"h-6 mr-0 md:mr-1"})})]})]})]})})]})},librarian:!0},{name:"LibraryStock",url:"/libraries/:id/stock",roles:["admin","librarian"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)({}),i=Object(D.a)(n,2),l=i[0],d=i[1],j=Object(c.useState)([]),u=Object(D.a)(j,2),m=u[0],x=u[1],O=Object(r.h)().id;return Object(c.useEffect)((function(){v.a.get(w("library/:id",{id:O})).then((function(e){d(e.data.data),v.a.get(w("stock/filter"),{params:{library_id:e.data.data.id}}).then((function(e){e.data.data.map((function(e){return v.a.get(w("booktitle/:id",{id:e.booktitle_id})).then((function(t){e.bookTitle={name:t.data.data.name,photo:t.data.data.photo},x((function(t){return[].concat(Object(Y.a)(t),[e])}))}))}))}))})).catch((function(e){return console.log(e)}))}),[O,a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"flex justify-between",children:Object(b.jsx)(h,{to:Be("LibraryShow",{id:O}),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"})}),Object(b.jsxs)("div",{className:"Content mt-4",children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsxs)("h1",{className:"Content-Title relative",children:[l.name,"'s Stock ",m.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{children:"Book Title"}),Object(b.jsx)(R,{children:"Availability"}),Object(b.jsx)(R,{children:"Amount"})]})}),Object(b.jsx)(U,{children:m.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsxs)(V,{children:[Object(b.jsx)("img",{src:e.bookTitle.photo,alt:e.bookTitle.name,className:"h-16 mr-2 inline"}),e.bookTitle.name]}),Object(b.jsx)(V,{children:e.availability?Object(b.jsx)("span",{className:"text-green-500",children:"Available"}):Object(b.jsx)("span",{className:"text-red-500",children:"Unavailable"})}),Object(b.jsx)(V,{children:e.amount})]},t)}))})]})})]})]})},librarian:!0},{name:"LibraryOrderList",url:"/libraries/:id/orders",roles:["admin","librarian"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),l=i[0],d=i[1],j=Object(c.useState)({}),u=Object(D.a)(j,2),m=u[0],x=u[1],O=Object(r.h)().id;return Object(c.useEffect)((function(){d([]),v.a.get(w("library/:id",{id:O})).then((function(e){return x(e.data.data)})).catch((function(e){return console.log(e)})),v.a.get(w("order/library/:id",{id:O})).then((function(e){e.data.data.map((function(e){return v.a.all([v.a.get(w("booktitle/:id",{id:e.booktitle_id})),v.a.get(w("library/:id",{id:e.library_id}))]).then(v.a.spread((function(t,a){"success"===t.data.status&&"success"===a.data.status?(e.bookTitle=t.data.data.name,e.library=a.data.data.name,d((function(t){return[].concat(Object(Y.a)(t),[e])}))):console.log(t.data,a.data)})))}))})).catch((function(e){return console.log(e)}))}),[O,a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsx)(h,{to:Be("LibraryShow",{id:O}),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"}),Object(b.jsx)(h,{to:Be("LibraryOrderCreate",{id:O}),variant:"green",icon:Object(b.jsx)(o.o,{className:"h-6 mr-0 md:mr-1"}),text:"New Order"})]}),Object(b.jsxs)("div",{className:"Content mt-4",children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsxs)("h1",{className:"Content-Title",children:[m.name,"'s Orders ",l.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{children:"Library"}),Object(b.jsx)(R,{children:"Book"}),Object(b.jsx)(R,{children:"Amount"}),Object(b.jsx)(R,{children:"Date Added"}),Object(b.jsx)(R,{children:"Note"}),Object(b.jsx)(R,{children:"Actions"})]})}),Object(b.jsx)(U,{children:l.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:e.library}),Object(b.jsx)(V,{children:e.bookTitle}),Object(b.jsx)(V,{children:e.amount}),Object(b.jsx)(V,{children:e.date_added}),Object(b.jsx)(V,{children:e.note}),Object(b.jsx)(V,{children:Object(b.jsx)("div",{className:"flex items-center gap-2",children:Object(b.jsx)(h,{to:Be("LibraryOrderEdit",{idLibrary:O,idOrder:e.id}),variant:"yellow",icon:Object(b.jsx)(o.n,{className:"h-6 mr-0 md:mr-1"}),text:"Edit",showText:"md"})})})]},t)}))})]})})]})]})},exact:!0},{name:"LibraryOrderCreate",url:"/libraries/:id/orders/create",roles:["admin","librarian"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),l=i[0],j=i[1],u=Object(r.h)().id;return Object(c.useEffect)((function(){j([]),v.a.get(w("booktitle")).then((function(e){return e.data.data.map((function(e){return j((function(t){return[].concat(Object(Y.a)(t),[{value:e.id,label:e.name}])}))}))})).catch((function(e){return console.log(e)}))}),[u,a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:Be("LibraryOrderList",{id:u}),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault(),function(e){var t,a=new FormData(e),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.post(w("order"),y.a.stringify(Object(d.a)({},c))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"Order Created Successfully",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))}(e.target)},children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsx)("input",{type:"hidden",name:"library_id",value:u}),Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("div",{className:"mb-1",children:"Book Title"}),Object(b.jsx)(te.a,{className:"Select",defaultValue:{value:null,label:"Choose Book Title"},name:"booktitle_id",options:l})]}),Object(b.jsx)(J,{type:"number",id:"amount",name:"amount",label:"Amount",placeholder:"10"}),Object(b.jsx)(J,{type:"text",id:"note",name:"note",label:"Note",placeholder:"ASAP"}),Object(b.jsx)("div",{className:"flex items-end",children:Object(b.jsx)(x,{type:"submit",text:"Create",variant:"green",className:"ml-auto",icon:Object(b.jsx)(o.o,{className:"h-6 mr-0 md:mr-1"})})})]})})]})},exact:!0},{name:"LibraryOrderEdit",url:"/libraries/:idLibrary/orders/:idOrder/edit",roles:["admin","librarian"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)({}),i=Object(D.a)(n,2),l=i[0],j=i[1],u=Object(r.h)(),m=u.idLibrary,O=u.idOrder;return Object(c.useEffect)((function(){v.a.get(w("order/:id",{id:O})).then((function(e){v.a.get(w("booktitle/:id",{id:e.data.data.booktitle_id})).then((function(t){e.data.data.bookTitle=t.data.data.name,j(e.data.data)}))})).catch((function(e){return console.log(e)}))}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:Be("LibraryOrderList",{id:m}),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault(),function(e){var t,a=new FormData(e),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.put(w("order/:id",{id:O}),y.a.stringify(Object(d.a)({},c))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"Order Edited Successfully",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))}(e.target)},children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsx)("input",{type:"hidden",name:"booktitle_id",value:l.booktitle_id}),Object(b.jsx)("input",{type:"hidden",name:"library_id",value:m}),Object(b.jsx)(J,{type:"text",id:"booktitle",label:"Book Title",value:l.bookTitle,disabled:!0}),Object(b.jsx)(J,{type:"number",id:"amount",name:"amount",label:"Amount",placeholder:"10",value:l.amount}),Object(b.jsx)(J,{type:"text",id:"note",name:"note",label:"Note",placeholder:"ASAP",value:l.note}),Object(b.jsx)("div",{className:"flex items-end",children:Object(b.jsx)(x,{type:"submit",text:"Save",variant:"primary",className:"ml-auto",icon:Object(b.jsx)(o.p,{className:"h-6 mr-0 md:mr-1"})})})]})})]})},exact:!0},{name:"UserList",url:"/users",roles:["admin"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){v.a.get(w("person")).then((function(e){return l(e.data.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsx)(h,{to:Be("Dashboard"),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(b.jsx)(h,{to:Be("UserCreate"),variant:"green",icon:Object(b.jsx)(o.o,{className:"h-6 mr-1"}),text:"New User"})]}),Object(b.jsxs)("div",{className:"Content mt-4",children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsx)("h1",{className:"Content-Title",children:"Users"}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{children:"Username"}),Object(b.jsx)(R,{children:"Full Name"}),Object(b.jsx)(R,{children:"Type"}),Object(b.jsx)(R,{children:"Employee"})]})}),Object(b.jsx)(U,{children:r.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:e.username}),Object(b.jsx)(V,{children:e.name+" "+e.surname}),Object(b.jsx)(V,{children:T.convertToUserType(e.user_type)}),Object(b.jsx)(V,{children:Object(b.jsxs)("div",{className:"flex items-center gap-2",children:[Object(b.jsx)(h,{to:Be("UserEdit",{id:e.id}),variant:"yellow",icon:Object(b.jsx)(o.n,{className:"h-6 mr-1"}),text:"Edit",showText:"md"}),Object(b.jsx)(x,{type:"button",variant:"red",icon:Object(b.jsx)(o.t,{className:"h-6 mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void v.a.delete(w("person/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"Person Deleted",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})},exact:!0},{name:"UserCreate",url:"/users/create",roles:["admin"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),r=i[0],l=i[1];Object(c.useEffect)((function(){v.a.get(w("library")).then((function(e){return l(e.data.data)})).catch((function(e){return console.log(e)}))}),[a]);var j=[{value:1,label:"User"},{value:3,label:"Distributor"},{value:4,label:"Librarian"},{value:5,label:"Admin"}],u=[{value:null,label:"No Library"}];return r.map((function(e){return u.push({value:e.id,label:e.name})})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:Be("UserList"),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.post(w("person"),y.a.stringify(Object(d.a)({},c))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"User Created Successfully",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsx)(J,{type:"text",id:"username",name:"username",label:"Username",placeholder:"Username"}),Object(b.jsxs)("div",{className:"flex flex-row",children:[Object(b.jsx)("div",{className:"w-1/2 pr-2",children:Object(b.jsx)(J,{type:"text",id:"name",name:"name",label:"First Name",placeholder:"Joe"})}),Object(b.jsx)("div",{className:"w-1/2 pl-2",children:Object(b.jsx)(J,{type:"text",id:"surname",name:"surname",label:"Last Name",placeholder:"Doe"})})]}),Object(b.jsx)(J,{type:"email",id:"email",name:"email",placeholder:"user@example.com",label:"Email"}),Object(b.jsx)(J,{type:"password",id:"password",name:"password",placeholder:"Password",label:"Password"}),Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("div",{className:"mb-1 cursor-default",children:"User type"}),Object(b.jsx)(te.a,{className:"Select",defaultValue:j[0],name:"user_type",options:j})]}),Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("div",{className:"mb-1 cursor-default",children:"Librarian"}),Object(b.jsx)(te.a,{className:"Select",defaultValue:u[0],name:"library_id",options:u})]}),Object(b.jsx)(H,{type:"text",id:"profiledesc",name:"profiledesc",label:"Profile Description",placeholder:"Lorem ipsum..."}),Object(b.jsx)("div",{className:"flex items-end",children:Object(b.jsx)(x,{type:"submit",text:"Create",variant:"green",className:"ml-auto",icon:Object(b.jsx)(o.o,{className:"h-6 mr-1"})})})]})})]})}},{name:"UserEdit",url:"/users/:id/edit",roles:["admin"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),l=i[0],j=i[1],u=Object(c.useState)({}),m=Object(D.a)(u,2),O=m[0],f=m[1],p=Object(r.h)().id;Object(c.useEffect)((function(){v.a.get(w("library")).then((function(e){return j(e.data.data)})).catch((function(e){return console.log(e)})),v.a.get(w("person/:id",{id:p})).then((function(e){return f(e.data.data)})).catch((function(e){return console.log(e)}))}),[a]);var g=[{value:1,label:"User"},{value:3,label:"Distributor"},{value:4,label:"Librarian"},{value:5,label:"Admin"}],N=[{value:null,label:"No Library"}];return l.map((function(e){return N.push({value:e.id,label:e.name})})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{to:Be("UserList"),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(b.jsx)("div",{className:"Content mt-4",children:Object(b.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),c={},n=Object(M.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var i=t.value;c[i[0]]=i[1]}}catch(r){n.e(r)}finally{n.f()}v.a.put(w("person/:id",{id:p}),y.a.stringify(Object(d.a)({},c))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"User Updated Successfully",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsx)(J,{type:"text",id:"username",name:"username",label:"Username",placeholder:"Username",value:O.username}),Object(b.jsxs)("div",{className:"flex flex-row",children:[Object(b.jsx)("div",{className:"w-1/2 pr-2",children:Object(b.jsx)(J,{type:"text",id:"name",name:"name",label:"First Name",placeholder:"Joe",value:O.name})}),Object(b.jsx)("div",{className:"w-1/2 pl-2",children:Object(b.jsx)(J,{type:"text",id:"surname",name:"surname",label:"Last Name",placeholder:"Doe",value:O.surname})})]}),Object(b.jsx)(J,{type:"email",id:"email",name:"email",placeholder:"user@example.com",label:"Email",value:O.email}),Object(b.jsx)(J,{type:"password",id:"password",name:"password",placeholder:"Password",label:"Password",value:O.password}),Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("div",{className:"mb-1 cursor-default",children:"User type"}),Object(b.jsx)(te.a,{className:"Select",defaultValue:g.find((function(e){return e.value===O.id})),name:"user_type",options:g})]}),Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("div",{className:"mb-1 cursor-default",children:"Librarian"}),Object(b.jsx)(te.a,{className:"Select",defaultValue:N.find((function(e){return e.id===O.library_id})),name:"library_id",options:N})]}),Object(b.jsx)(H,{type:"text",id:"profiledesc",name:"profiledesc",label:"Profile Description",placeholder:"Lorem ipsum...",value:O.profiledesc}),Object(b.jsx)("div",{className:"flex items-end",children:Object(b.jsx)(x,{type:"submit",text:"Save",variant:"primary",className:"ml-auto",icon:Object(b.jsx)(o.p,{className:"h-6 mr-1"})})})]})})]})}},{name:"OrderDistributorList",url:"/orders",roles:["admin","distributor"],component:function(){var e=Object(c.useState)(null),t=Object(D.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)([]),i=Object(D.a)(n,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){l([]),v.a.get(w("order")).then((function(e){e.data.data.map((function(e){return v.a.all([v.a.get(w("booktitle/:id",{id:e.booktitle_id})),v.a.get(w("library/:id",{id:e.library_id}))]).then(v.a.spread((function(t,a){"success"===t.data.status&&"success"===a.data.status?(e.bookTitle=t.data.data.name,e.library=a.data.data.name,l((function(t){return[].concat(Object(Y.a)(t),[e])}))):console.log(t.data,a.data)})))}))})).catch((function(e){return console.log(e)}))}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"flex justify-between",children:Object(b.jsx)(h,{to:Be("Dashboard"),variant:"secondary",icon:Object(b.jsx)(o.e,{className:"h-6 mr-0 md:mr-1"}),text:"Back"})}),Object(b.jsxs)("div",{className:"Content mt-4",children:[a&&Object(b.jsx)(A,{message:a.message,type:a.type,onClick:function(){return s(null)}}),Object(b.jsxs)("h1",{className:"Content-Title",children:["Orders ",r.length?"":Object(b.jsx)(I,{})]}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsxs)(F,{children:[Object(b.jsx)(E,{children:Object(b.jsxs)(P,{children:[Object(b.jsx)(R,{children:"Library"}),Object(b.jsx)(R,{children:"Book"}),Object(b.jsx)(R,{children:"Amount"}),Object(b.jsx)(R,{children:"Date Added"}),Object(b.jsx)(R,{children:"Note"}),Object(b.jsx)(R,{children:"Actions"})]})}),Object(b.jsx)(U,{children:r.map((function(e,t){return Object(b.jsxs)(P,{index:t,striped:!0,children:[Object(b.jsx)(V,{children:e.library}),Object(b.jsx)(V,{children:e.bookTitle}),Object(b.jsx)(V,{children:e.amount}),Object(b.jsx)(V,{children:e.date_added}),Object(b.jsx)(V,{children:e.note}),Object(b.jsx)(V,{children:Object(b.jsx)("div",{className:"flex items-center gap-2",children:Object(b.jsx)(x,{type:"button",variant:"green",icon:Object(b.jsx)(o.d,{className:"h-6 mr-0 md:mr-1"}),text:"Confirm",showText:"md",onClick:function(){return t=e.id,void v.a.get(w("order/confirm/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),s({message:"Order confirmed",type:"success"})):(window.scrollTo(0,0),s({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})})})]},t)}))})]})})]})]})},exact:!0}],Ce=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==(t=Se.find((function(t){return t.name===e?t:void 0})).url))for(var c in a)t=t.replace(":".concat(c),a[c]);return t},Be=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c="/admin";if(void 0!==(t=Le.find((function(t){return t.name===e?c+t:void 0})).url))for(var s in a)t=t.replace(":".concat(s),a[s]);return t=c+t},De=function(){return Object(b.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(b.jsx)("div",{className:"mb-4 text-4xl font-bold text-red-500",children:"404"}),Object(b.jsx)("div",{className:"mb-8 text-2xl text-gray-600",children:"Not Found"}),Object(b.jsx)("img",{src:q,alt:"Not Authorized",className:"h-60"})]})};var _e=Object(r.j)((function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(L,{}),Object(b.jsx)(C,{children:Object(b.jsxs)(r.d,{children:[Se.map((function(e,t){return Object(b.jsx)(r.b,{path:e.url,component:e.component,exact:e.exact},t)})),Object(b.jsx)(r.b,{path:"/",component:De})]})}),Object(b.jsx)(B,{})]})}));i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)("div",{className:"flex items-center justify-center bg-gray-50",style:{width:"100vw",height:"100vh"},children:Object(b.jsx)("div",{className:"text-4xl font-bold",children:"Loading..."})})}),document.getElementById("root")),T.checkAuthSession().then((function(e){return console.log("AUTH STATUS RENDER: "+e),i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(_e,{})})}),document.getElementById("root"))}))},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){}},[[203,1,2]]]);
//# sourceMappingURL=main.51e2be1c.chunk.js.map