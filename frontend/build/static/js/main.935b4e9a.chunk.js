(this["webpackJsonpbook-garden"]=this["webpackJsonpbook-garden"]||[]).push([[0],{104:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},188:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(21),r=a.n(n),i=(a(78),a(79),a(7)),l=(a(80),a(3)),o=a(2);a(81);var d=a(1),j=function(){var e,t,a=Object(s.useState)(!1),c=Object(l.a)(a,2),n=c[0],r=c[1],i=Object(s.useRef)();return e=i,t=function(){return r(!1)},Object(s.useEffect)((function(){var a=function(a){e.current&&!e.current.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"Navbar-search ".concat(n?"expanded":""),ref:i,children:[Object(d.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search:"}),Object(d.jsx)("input",{type:"text",id:"search",placeholder:"Search for books, authors...",className:"bg-white md:bg-gray-100 py-1.5 px-4 rounded-md outline-none",style:{minWidth:"300px"}}),Object(d.jsx)("button",{className:"Navbar-search-close",onClick:function(){return r(!1)},children:Object(d.jsx)(o.u,{className:"h-6"})})]}),Object(d.jsx)("button",{className:"Navbar-link flex md:hidden",onClick:function(){return r(!n)},children:Object(d.jsx)(o.q,{className:"h-6"})})]})},b=(a(83),a(6)),u=a(8),m=a(16),x=a(17),h=a(5),O=a.n(h),p=a(9),f=a.n(p),v="https://book-garden.herokuapp.com/api/",g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var a in t)e=e.replace(":".concat(a),t[a]);return v+e},y=function(){function e(){Object(m.a)(this,e),this.init()}return Object(x.a)(e,[{key:"init",value:function(){this.authenticated=!0,this.id=1,this.username="admin",this.password="admin",this.email="admin@admin.com",this.type="distributor",this.library_id=1,this.name="Joe",this.surname="Doe",this.profiledesc="I am gay"}},{key:"register",value:function(e){return O.a.post(g("person"),f.a.stringify(Object(u.a)({},e))).then((function(e){return e.data}))}},{key:"login",value:function(e,t){var a=this;return O.a.post(g("session"),f.a.stringify({username:e,password:t})).then((function(e){return"success"===e.data.status?a.checkAuthSession().then((function(e){return e})):(console.log(e.data),!1)})).catch((function(e){return console.log(e)}))}},{key:"logout",value:function(){var e=this;return O.a.delete(g("session")).then((function(t){return e.authenticated=!1,"success"===t.data.status})).catch((function(e){return console.log(e)}))}},{key:"checkAuthSession",value:function(){var e=this;return O.a.get(g("session")).then((function(t){return 200===t.status&&t.data.data.user_id&&t.data.data.user_type?(e.authenticated=!0,e.id=t.data.data.user_id,e.type=e.convertToUserType(t.data.data.user_type),O.a.get(g("person/:id",{id:e.id})).then((function(t){"success"===t.data.status?(e.username=t.data.data.username,e.email=t.data.data.email,e.library_id=t.data.data.library_id,e.name=t.data.data.name,e.surname=t.data.data.surname,e.profiledesc=t.data.data.profiledesc):console.log("Can not get user info")}))):e.authenticated=!1,e.authenticated=!0,console.log("checkAuthSession: "+e.authenticated),!0}))}},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"allowedDashboard",value:function(){return this.isAdmin()||this.isLibrarian()||this.isDistributor()}},{key:"getUserType",value:function(){return this.type}},{key:"isAdmin",value:function(){return this.isAuthenticated()&&"admin"===this.type}},{key:"isLibrarian",value:function(){return this.isAuthenticated()&&"librarian"===this.type}},{key:"isDistributor",value:function(){return this.isAuthenticated()&&"distributor"===this.type}},{key:"isUser",value:function(){return this.isAuthenticated()&&"user"===this.type}},{key:"convertToUserType",value:function(e){return 5===e?"admin":4===e?"librarian":3===e?"distributor":"user"}}]),e}(),N=new y,w=(a(104),function(e){var t=e.icon,a=e.text,s=e.type,c=e.variant,n=void 0===c?"":c,r=e.size,i=void 0===r?"":r,l=e.style,o=void 0===l?{}:l,j=e.className,b=void 0===j?"":j,u=e.showText,m=e.onClick;return Object(d.jsxs)("button",{type:s,className:"Button ".concat(n," ").concat(i," ").concat(b),style:o,onClick:m,children:[t,Object(d.jsx)("span",{className:u?"hidden "+u+":block":"",children:a})]})}),k=function(e){var t=e.icon,a=e.text,s=e.to,c=e.variant,n=void 0===c?"":c,r=e.size,i=void 0===r?"":r,l=e.style,o=void 0===l?{}:l,j=e.className,u=void 0===j?"":j,m=e.showText,x=e.target;return Object(d.jsxs)(b.b,{to:s,className:"Button ".concat(n," ").concat(i," ").concat(u),style:o,target:x,children:[t,Object(d.jsx)("span",{className:m?"hidden "+m+":block":"",children:a})]})},T=function(){var e=Object(i.g)();return Object(d.jsxs)("nav",{className:"Navbar Container",children:[Object(d.jsxs)(b.b,{to:"/",className:"Navbar-logo",children:[Object(d.jsx)("b",{children:"BOOK"}),"Garden"]}),Object(d.jsxs)("div",{className:"Navbar-items",children:[Object(d.jsx)(j,{}),Object(d.jsxs)(b.b,{to:"/account",className:"Navbar-link",children:[Object(d.jsx)(o.t,{className:"h-6 mr-2"}),Object(d.jsx)("span",{className:"hidden xl:inline",children:"Account"})]}),N.isAuthenticated()&&N.allowedDashboard()&&Object(d.jsxs)(b.b,{to:"/admin",className:"Navbar-link",children:[Object(d.jsx)(o.j,{className:"h-6 inline mr-2"}),Object(d.jsx)("span",{className:"hidden xl:inline",children:"Admin"})]}),N.isAuthenticated()&&Object(d.jsx)(w,{type:"button",onClick:function(){return N.logout().then((function(t){return t?e.push("/"):console.log("Can not log out.")}))},className:"Navbar-link shadow-none",text:"Log out",icon:Object(d.jsx)(o.m,{className:"h-6 mr-2"}),showText:"xl"})]})]})},L=function(){return Object(d.jsx)("header",{className:"Header",children:Object(d.jsx)(T,{})})},S=(a(112),function(e){var t=e.children;return Object(d.jsx)("main",{className:"Main Container",children:t})}),B=(a(113),function(){return Object(d.jsx)("footer",{className:"Footer",children:Object(d.jsxs)("div",{className:"Footer-container Container",children:["\xa9 2021 ",Object(d.jsx)("b",{children:"BOOK"}),"Garden"]})})}),C=(a(114),function(e){var t=e.className,a=e.message,s=e.type,c=e.onClick;return Object(d.jsx)("div",{className:"Alert Alert-".concat(s," ").concat(null!==t&&void 0!==t?t:""),onClick:c,children:a})}),D=function(e){return Object(d.jsx)("table",{className:"table-auto w-full",children:e.children})},E=function(e){return Object(d.jsx)("thead",{className:"bg-gray-800 text-white",children:e.children})},F=function(e){return Object(d.jsx)("tbody",{className:"text-gray-700",children:e.children})},A=function(e){return Object(d.jsx)("tr",{className:"".concat(e.striped&&e.index%2?"bg-gray-100":""," text-left"),children:e.children})},_=function(e){var t;return Object(d.jsx)("th",{className:"".concat(null!==(t=e.className)&&void 0!==t?t:""," text-left py-3 px-4 uppercase font-semibold text-sm"),children:e.children})},U=function(e){return Object(d.jsx)("td",{className:"py-3 px-4",children:e.children})},P=a(10),I=(a(115),function(e){var t=e.id,a=e.type,s=e.label,c=e.value,n=e.name,r=e.placeholder,i=e.hideLabel,l=e.onChange,o=e.min,j=e.max,b=e.disabled;return Object(d.jsxs)("div",{className:"Form-control",children:[Object(d.jsx)("label",{htmlFor:t,className:"Form-control-label ".concat(i?"sr-only":""),children:s}),Object(d.jsx)("input",{type:a,id:t,name:n,placeholder:r,className:"Form-control-input",onChange:l,defaultValue:c,min:o,max:j,disabled:b})]})}),R=(a(116),function(e){var t=e.id,a=e.label,s=e.value,c=e.name,n=e.placeholder,r=e.hideLabel,i=e.onChange;return Object(d.jsxs)("div",{className:"Textarea",children:[Object(d.jsx)("label",{htmlFor:t,className:"Textarea-label ".concat(r?"sr-only":""),children:a}),Object(d.jsx)("textarea",{id:t,name:c,placeholder:n,className:"Textarea-input",onChange:i,defaultValue:s})]})}),M=a.p+"static/media/header.b220e1bf.svg",z=a(18),J=function(){return Object(d.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-8 h-full",children:[Object(d.jsxs)("div",{className:"mb-8 lg:mb-0",children:[Object(d.jsxs)("div",{className:"text-3xl text-center sm:text-5xl sm:text-left font-bold",children:["Your Favorite",Object(d.jsx)("br",{}),"Book Finder."]}),Object(d.jsx)("div",{className:"text-2xl text-center sm:text-left py-8 md:py-16",children:"When it comes to reading time, we are here to bring you your favorite book, from your favorite library."}),Object(d.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row md:gap-8",children:[Object(d.jsx)(k,{to:"/book-titles",text:"Find a Book",variant:"primary",size:"lg",icon:Object(d.jsx)(o.c,{className:"h-6 w-6 inline pr-1"})}),Object(d.jsx)(k,{to:"/libraries",text:"Find a Library",variant:"secondary",size:"lg",icon:Object(d.jsx)(z.c,{className:"h-6 w-6 inline pr-1"})})]})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:M,alt:"BookGarden"})})]})},G=(a(117),function(e){var t=e.bookTitle;return Object(d.jsxs)(b.b,{to:"/book-titles/".concat(t.id),className:"BookTitleItem",children:[Object(d.jsx)("img",{className:"BookTitleItem-image",src:t.photo,alt:t.name}),Object(d.jsx)("div",{className:"BookTitleItem-name",children:t.name}),Object(d.jsx)("div",{className:"BookTitleItem-genre",children:t.genre})]})}),H=(a(118),function(e){var t=e.children;return Object(d.jsx)("div",{className:"FilterDropdown",children:t})}),V=function(e){var t=Object(s.useState)(e.collapsed),a=Object(l.a)(t,2),c=a[0],n=a[1];return Object(d.jsxs)("div",{className:"FilterDropdownItem ".concat(c?"collapsed":""),children:[Object(d.jsxs)("div",{className:"FilterDropdownItem-header",onClick:function(){return n(!c)},children:[e.title,c?Object(d.jsx)(z.a,{className:"FilterDropdownItem-icon"}):Object(d.jsx)(z.b,{className:"FilterDropdownItem-icon"})]}),Object(d.jsx)("div",{className:"FilterDropdownItem-body",children:e.children})]})},W=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([]),r=Object(l.a)(n,2),i=r[0],o=r[1];return Object(s.useEffect)((function(){O.a.get(g("booktitle")).then((function(e){return c(e.data.data)})).catch((function(e){return console.log(e)})),O.a.get(g("booktitle/unique/genres")).then((function(e){return o(e.data.data)})).catch((function(e){return console.log(e)}))}),[]),Object(d.jsxs)("div",{className:"flex flex-row flex-wrap",children:[Object(d.jsx)("div",{className:"w-full lg:w-3/12",children:Object(d.jsxs)(H,{children:[Object(d.jsx)(V,{title:"Genres",collapsed:!0,children:i.map((function(e,t){return Object(d.jsxs)("div",{className:"block mr-2",children:[Object(d.jsx)("input",{type:"checkbox",id:"genre-".concat(t),className:"mr-1"}),Object(d.jsx)("label",{htmlFor:"genre-".concat(t),children:e})]},t)}))}),Object(d.jsx)(V,{title:"Authors",collapsed:!0,children:Object(d.jsx)("select",{id:"sorting",className:"w-full p-2",children:Object(d.jsx)("option",{defaultChecked:!0,children:"Select Author"})})}),Object(d.jsxs)(V,{title:"Libraries",collapsed:!0,children:[Object(d.jsx)("b",{children:"Select box"})," with libraries"]})]})}),Object(d.jsx)("div",{className:"w-full lg:w-9/12 flex flex-row flex-wrap content-start",children:a.map((function(e,t){return Object(d.jsx)("div",{className:"p-2 w-6/12 lg:w-4/12 xl:w-3/12 h-auto",children:Object(d.jsx)(G,{bookTitle:e},t)},t)}))})]})},q=(a(119),function(e){var t=e.rating,a=e.className,c=[],n=[];t=Math.ceil(t);for(var r=Object(s.useState)(null),i=Object(l.a)(r,2),o=i[0],j=i[1],b=function(e){c.push(Object(d.jsx)(z.d,{onMouseEnter:function(){return j(e)},onMouseLeave:function(){return j(null)},className:"".concat(a," transition duration-200 ease-linear cursor-pointer transform ").concat(null!=o&&o>=e&&"scale-125 text-yellow-400"," ").concat(null!=o&&o<=e?"text-gray-400":"text-yellow-400")},e))},u=0;u<t;u++)b(u);if(t<5)for(var m=function(e){n.push(Object(d.jsx)(z.d,{onMouseEnter:function(){return j(e)},onMouseLeave:function(){return j(null)},className:"".concat(a," transition duration-200 ease-linear cursor-pointer transform ").concat(null!=o&&o>=e?"scale-125 text-yellow-400":"")},e))},x=t;x<5;x++)m(x);return Object(d.jsxs)(d.Fragment,{children:[c,n]})}),K=function(e){var t=e.bookTitle;return Object(d.jsxs)("div",{className:"BookTitle",children:[Object(d.jsx)("div",{className:"BookTitle-image",children:Object(d.jsx)("img",{src:t.photo,alt:t.name})}),Object(d.jsx)("div",{className:"BookTitle-name",children:t.name}),Object(d.jsx)("div",{className:"BookTitle-author",children:t.author}),Object(d.jsxs)("div",{className:"w-full flex flex-row justify-between items-center my-2",children:[Object(d.jsx)("div",{className:"BookTitle-genre",children:Object(d.jsx)(b.b,{to:"/genre/".concat(t.genre),className:"Link mr-2 transform hover:scale-105 transition duration-200 ease-linear",children:t.genre})}),Object(d.jsx)("div",{className:"BookTitle-rating",children:Object(d.jsx)(q,{rating:t.rating/2,className:"h-6"})})]}),Object(d.jsx)("div",{className:"BookTitle-description",children:t.description}),Object(d.jsxs)("div",{className:"BookTitle-details",children:[Object(d.jsx)("div",{className:"font-bold text-lg",children:"Book details:"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"ISBN:"})," ",t.isbn]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Publisher:"})," ",t.publisher]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Date Published:"})," ",t.date_publication]})]}),Object(d.jsx)("div",{className:"border-b border-gray-200 w-1/2 my-4 m-auto"}),Object(d.jsx)("div",{className:"BookTitle-libraries"})]})},Y=(a(120),function(e){return Object(d.jsxs)("div",{className:"Breadcrumb",children:[Object(d.jsx)(k,{to:e.backLink,variant:"primary",size:"sm",className:"Breadcrumb-back",text:"Back",icon:Object(d.jsx)(o.b,{className:"h-4 inline-block mr-1"})}),Object(d.jsx)("nav",{className:"Breadcrumb-items",children:Object(d.jsxs)("ol",{children:[Object(d.jsx)("li",{className:"Breadcrumb-item",children:Object(d.jsx)(b.b,{to:"/",children:"Home"})}),e.items.map((function(e,t){return Object(d.jsx)("li",{className:"Breadcrumb-item ".concat(e.active?"active":""),children:e.active?e.name:Object(d.jsx)(b.b,{to:e.url,children:e.name})},t)}))]})})]})}),Q=function(){var e,t=Object(s.useState)({}),a=Object(l.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)([]),o=Object(l.a)(r,2),j=(o[0],o[1],Object(i.h)().id);Object(s.useEffect)((function(){O.a.get(g("booktitle/:id",{id:j})).then((function(e){return n(e.data.data)})).catch((function(e){return console.log(e)}))}),[j]);var b=[{name:"Book Titles",url:"/book-titles"},{name:(null===(e=c.name)||void 0===e?void 0:e.substr(0,15))+"...",url:"/book-titles/".concat(c.id),active:!0}];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Y,{backLink:"/book-titles",items:b}),Object(d.jsx)(K,{bookTitle:c})]})},X=function(){var e=Object(i.i)().path;return Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:e,component:W,exact:!0}),Object(d.jsx)(i.b,{path:"".concat(e,"/:id"),component:Q})]})},Z=function(){return Object(d.jsx)("div",{children:"Library list"})},$=function(){var e=Object(i.h)().id;return Object(d.jsxs)("div",{children:["Library ID: ",e]})},ee=function(){var e=Object(i.i)().path;return Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"".concat(e),component:Z,exact:!0}),Object(d.jsx)(i.b,{path:"".concat(e,"/:id"),component:$})]})},te=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(l.a)(n,2),o=r[0],j=r[1],u=Object(i.g)();return Object(d.jsxs)("div",{className:"w-full sm:w-6/12 xl:w-4/12 mx-auto py-16 px-8 bg-white shadow-sm",children:[Object(d.jsx)("div",{className:"uppercase text-center font-bold text-lg mb-8",children:"Login"}),Object(d.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault(),N.login(a,o).then((function(e){return e?u.push("/"):console.log("SHOW ALERT")}))},children:[Object(d.jsxs)("div",{className:"flex flex-col",children:[Object(d.jsx)(I,{type:"username",id:"username",label:"Email",placeholder:"user@example.com",onChange:function(e){return c(e.target.value)}}),Object(d.jsx)(I,{type:"password",id:"password",label:"Password",placeholder:"Password",onChange:function(e){return j(e.target.value)}})]}),Object(d.jsx)(w,{type:"submit",variant:"primary",text:"Login",className:"block w-full"})]}),Object(d.jsxs)("div",{className:"text-center mt-4",children:["Don't have an account?",Object(d.jsx)(b.b,{to:"/account/register",className:"Link ml-1",children:"Create one"}),"."]})]})},ae=function(){var e=Object(i.g)(),t=Object(s.useState)(null),a=Object(l.a)(t,2),c=a[0],n=a[1];return Object(d.jsxs)("div",{className:"w-full sm:w-6/12 xl:w-4/12 mx-auto py-16 px-8 bg-white shadow-sm",children:[Object(d.jsx)("div",{className:"uppercase text-center font-bold text-lg mb-8",children:"Create an account"}),Object(d.jsxs)("form",{method:"post",onSubmit:function(t){t.preventDefault();var a,s=new FormData(t.target),c={},r=Object(P.a)(s.entries());try{for(r.s();!(a=r.n()).done;){var i=a.value;c[i[0]]=i[1]}}catch(l){r.e(l)}finally{r.f()}N.register(c).then((function(t){"success"===t.status?e.push("/account/login"):(window.scrollTo(0,0),n({message:t.message,type:"danger"}))}))},children:[c&&Object(d.jsx)(C,{message:c.message,type:c.type,onClick:function(){return n(null)}}),Object(d.jsxs)("div",{className:"flex flex-col",children:[Object(d.jsxs)("div",{className:"flex flex-row",children:[Object(d.jsx)("div",{className:"pr-2",children:Object(d.jsx)(I,{type:"text",id:"name",name:"name",label:"First Name",placeholder:"Joe"})}),Object(d.jsx)("div",{className:"pl-2",children:Object(d.jsx)(I,{type:"text",id:"surname",name:"surname",label:"Last Name",placeholder:"Doe"})})]}),Object(d.jsx)(I,{type:"text",id:"username",name:"username",label:"Username",placeholder:"joe.doe"}),Object(d.jsx)(I,{type:"email",id:"email",name:"email",label:"Email",placeholder:"joe.doe@example.com"}),Object(d.jsx)(I,{type:"password",id:"password",name:"password",label:"Password",placeholder:"Password"})]}),Object(d.jsx)(w,{to:"submit",variant:"primary",text:"Register",className:"block w-full"})]}),Object(d.jsxs)("div",{className:"text-center mt-4",children:["Already have an account?",Object(d.jsx)(b.b,{to:"/account/login",className:"Link ml-1",children:"Log in"}),"."]})]})},se=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(d.jsx)("div",{className:"Content",children:Object(d.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[Object(d.jsxs)("div",{className:"w-full lg:w-6/12 mb-8 lg:mb-0",children:[Object(d.jsx)(o.t,{className:"mx-auto h-32 bg-indigo-600 text-white rounded-full p-4"}),Object(d.jsx)("div",{className:"my-4 text-2xl text-center font-bold",children:N.username}),Object(d.jsx)("div",{className:"italic text-center",children:N.profiledesc})]}),Object(d.jsxs)("form",{method:"post",className:"w-full lg:w-6/12",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),s={},n=Object(P.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var r=t.value;s[r[0]]=r[1]}}catch(i){n.e(i)}finally{n.f()}O.a.put(g("person/:id",{id:N.id}),f.a.stringify(Object(u.a)({},s))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),c({message:"Profile Edited Successfully",type:"success"})):(window.scrollTo(0,0),c({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[a&&Object(d.jsx)(C,{message:a.message,type:a.type,onClick:function(){return c(null)}}),Object(d.jsx)("h1",{className:"Content-Title",children:"Account Information"}),Object(d.jsx)(I,{type:"text",id:"name",name:"name",label:"First Name",value:N.name,placeholder:"Joe"}),Object(d.jsx)(I,{type:"text",id:"last_name",label:"Last Name",value:N.surname,placeholder:"Doe"}),Object(d.jsx)(I,{type:"email",id:"email",label:"E-Mail",value:N.email,placeholder:"user@example.com"}),Object(d.jsx)("hr",{className:"my-4"}),Object(d.jsx)("h1",{className:"Content-Title",children:"Change Password"}),Object(d.jsx)(I,{type:"password",id:"password",name:"password",label:"Password",value:N.password,placeholder:"New Password"}),Object(d.jsx)("div",{className:"flex flex-end",children:Object(d.jsx)(w,{type:"submit",text:"Save",variant:"primary",className:"ml-auto",icon:Object(d.jsx)(o.p,{className:"h-6 mr-1"})})})]})]})})},ce=a(15),ne=a.p+"static/media/error.a4a48fb8.svg",re=function(){return Object(d.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(d.jsx)("div",{className:"mb-4 text-4xl font-bold text-red-500",children:"403"}),Object(d.jsx)("div",{className:"mb-8 text-2xl text-gray-600",children:"Not Authorized"}),Object(d.jsx)("img",{src:ne,alt:"Not Authorized",className:"h-60"})]})},ie=a(73),le=["roles"],oe=function(e){var t=Object.assign({},e);return N.isAuthenticated()?Object(d.jsx)(i.b,Object(u.a)({},t)):Object(d.jsx)(i.a,{to:"/account/login"})},de=function(e){var t=e.roles,a=Object(ce.a)(e,le);return N.isAuthenticated()&&(Object(ie.isArray)(t)&&t.find((function(e){return e===N.getUserType()}))||"all"===t)?Object(d.jsx)(i.b,Object(u.a)({},a)):Object(d.jsx)(re,{})},je=function(){return N.isAuthenticated()?Object(d.jsx)(i.a,{to:"account/profile"}):Object(d.jsx)(i.a,{to:"account/login"})},be=function(){var e=Object(i.i)().path;return Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"".concat(e,"/login"),component:te}),Object(d.jsx)(i.b,{path:"".concat(e,"/register"),component:ae}),Object(d.jsx)(oe,{path:"".concat(e,"/profile"),component:se}),Object(d.jsx)(i.b,{path:"/",component:je})]})},ue=function(){return N.isAuthenticated()&&N.allowedDashboard()?Object(d.jsx)(i.a,{to:"/admin/dashboard"}):Object(d.jsx)(re,{})},me=function(){var e=Object(i.i)().path;return Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{exact:!0,path:e,component:ue}),pe.map((function(t,a){return Object(d.jsx)(de,{path:e+t.url,component:t.component,roles:t.roles,exact:t.exact},a)}))]})},xe=[{name:"Book Titles",url:"/admin/book-titles",icon:Object(d.jsx)(o.c,{className:"h-12 mx-auto text-indigo-600"}),roles:["admin","librarian","distributor"]},{name:"Libraries",url:"/admin/libraries",icon:Object(d.jsx)(o.l,{className:"h-12 mx-auto text-indigo-600"}),roles:["admin"]},{name:"Library",url:"/admin/libraries/"+N.library_id,icon:Object(d.jsx)(o.l,{className:"h-12 mx-auto text-indigo-600"}),roles:["librarian"]},{name:"Reservations",url:"/admin/libraries/"+N.library_id+"/reservations",icon:Object(d.jsx)(o.h,{className:"h-12 mx-auto text-indigo-600"}),roles:["librarian"]},{name:"Borrowings",url:"/admin/libraries/"+N.library_id+"/borrowings",icon:Object(d.jsx)(o.r,{className:"h-12 mx-auto text-indigo-600"}),roles:["librarian"]},{name:"Users",url:"/admin/users",icon:Object(d.jsx)(o.t,{className:"h-12 mx-auto text-indigo-600"}),roles:["admin"]},{name:"Stock",url:"/admin/libraries/"+N.library_id+"/stock",icon:Object(d.jsx)(o.a,{className:"h-12 mx-auto text-indigo-600"}),roles:["librarian"]},{name:"Orders",url:"/admin/orders",icon:Object(d.jsx)(o.i,{className:"h-12 mx-auto text-indigo-600"}),roles:["distributor"]}],he=a(44),Oe=(a(188),[{name:"Home",url:"/",component:J,exact:!0},{name:"BookTitle",url:"/book-titles",component:X},{name:"Library",url:"/libraries",component:ee},{name:"Account",url:"/account",component:be},{name:"Admin",url:"/admin",component:me}]),pe=[{name:"Dashboard",url:"/dashboard",roles:["admin","librarian","distributor"],component:function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"text-2xl text-center font-bold my-8",children:"Welcome back"}),Object(d.jsx)("div",{className:"flex items-center flex-wrap",children:xe.map((function(e,t){return!!e.roles.find((function(e){return e===N.getUserType()}))&&Object(d.jsx)("div",{className:"w-full lg:w-3/12 p-2",children:Object(d.jsxs)(b.b,{to:e.url,className:"block border-2 bg-white border-transparent rounded-md text-center px-4 py-8 hover:shadow-md hover:border-indigo-600 transition",children:[e.icon,Object(d.jsx)("div",{className:"text-xl font-semibold text-indigo-600 mt-4",children:e.name})]},t)},t)}))})]})},exact:!0},{name:"BookTitleList",url:"/book-titles",roles:["admin","librarian","distributor"],component:function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([]),r=Object(l.a)(n,2),i=r[0],j=r[1];return Object(s.useEffect)((function(){O.a.get(g("booktitle")).then((function(e){return j(e.data.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"flex justify-between",children:[Object(d.jsx)(k,{to:fe("Dashboard"),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsx)(k,{to:fe("BookTitleCreate"),variant:"green",icon:Object(d.jsx)(o.o,{className:"h-6 mr-1"}),text:"New Book"})]}),Object(d.jsxs)("div",{className:"Content mt-4",children:[a&&Object(d.jsx)(C,{message:a.message,type:a.type,onClick:function(){return c(null)}}),Object(d.jsx)("h1",{className:"Content-Title",children:"Book titles"}),Object(d.jsx)("div",{className:"overflow-auto",children:Object(d.jsxs)(D,{children:[Object(d.jsx)(E,{children:Object(d.jsxs)(A,{children:[Object(d.jsx)(_,{className:"w-1/6"}),Object(d.jsx)(_,{children:"Name"}),Object(d.jsx)(_,{className:"w-1/4",children:"Actions"})]})}),Object(d.jsx)(F,{children:i.map((function(e,t){return Object(d.jsxs)(A,{index:t,striped:!0,children:[Object(d.jsx)(U,{children:Object(d.jsx)("img",{src:e.photo,alt:e.name,className:"h-16"})}),Object(d.jsx)(U,{children:e.name}),Object(d.jsx)(U,{children:Object(d.jsxs)("div",{className:"flex items-center gap-2",children:[Object(d.jsx)(k,{to:"/book-titles/"+e.id,variant:"primary",icon:Object(d.jsx)(o.k,{className:"h-6 mr-1"}),text:"Open",showText:"md",target:"_blank"}),Object(d.jsx)(k,{to:fe("BookTitleEdit",{id:e.id}),variant:"yellow",icon:Object(d.jsx)(o.n,{className:"h-6 mr-1"}),text:"Edit",showText:"md"}),Object(d.jsx)(w,{type:"button",variant:"red",icon:Object(d.jsx)(o.s,{className:"h-6 mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void O.a.delete(g("booktitle/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),c({message:"Book Title Deleted",type:"success"})):(window.scrollTo(0,0),c({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})},exact:!0},{name:"BookTitleCreate",url:"/book-titles/create",roles:["admin","librarian","distributor"],component:function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k,{to:fe("BookTitleList"),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsx)("div",{className:"Content mt-4",children:Object(d.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),s={},n=Object(P.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var r=t.value;s[r[0]]=r[1]}}catch(i){n.e(i)}finally{n.f()}O.a.post(g("booktitle"),f.a.stringify(Object(u.a)({},s))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),c({message:"Book Title Created Successfully",type:"success"})):(window.scrollTo(0,0),c({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[a&&Object(d.jsx)(C,{message:a.message,type:a.type,onClick:function(){return c(null)}}),Object(d.jsx)(I,{type:"text",id:"name",name:"name",label:"Book Name",placeholder:"Example Book"}),Object(d.jsx)(I,{type:"text",id:"author",name:"author",label:"Author",placeholder:"Joe Doe"}),Object(d.jsx)(I,{type:"text",id:"isbn",name:"isbn",label:"ISBN",placeholder:"3232183828"}),Object(d.jsx)(I,{type:"number",id:"date_publication",name:"date_publication",label:"Publish Date",placeholder:"1998"}),Object(d.jsx)(I,{type:"text",id:"publisher",name:"publisher",label:"Publisher",placeholder:"Example Publisher"}),Object(d.jsx)(I,{type:"text",id:"genre",name:"genre",label:"Genre",placeholder:"e.g. Action"}),Object(d.jsx)(I,{type:"number",id:"rating",name:"rating",label:"Rating",placeholder:"10",min:0,max:10}),Object(d.jsx)(I,{type:"text",id:"photo",name:"photo",label:"Picture",placeholder:"https://mrtns.eu/tovar/_l/440/l440953.jpg"}),Object(d.jsx)(R,{type:"text",id:"description",name:"description",label:"Description",placeholder:"Lorem ipsum..."}),Object(d.jsx)("div",{className:"flex items-end",children:Object(d.jsx)(w,{type:"submit",text:"Create",variant:"green",className:"ml-auto",icon:Object(d.jsx)(o.o,{className:"h-6 mr-1"})})})]})})]})}},{name:"BookTitleEdit",url:"/book-titles/:id/edit",roles:["admin","librarian","distributor"],component:function(){var e=Object(i.h)().id,t=Object(s.useState)([]),a=Object(l.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(null),j=Object(l.a)(r,2),b=j[0],m=j[1];return Object(s.useEffect)((function(){O.a.get(g("booktitle/:id",{id:e})).then((function(e){return n(e.data.data)})).catch((function(e){return console.log(e)}))}),[e,b]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k,{to:"/admin/book-titles",variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsx)("div",{className:"Content mt-4",children:Object(d.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[Object(d.jsxs)("div",{className:"w-full lg:w-6/12 mb-8 lg:mb-0 text-center",children:[Object(d.jsx)("img",{src:c.photo,alt:c.name,className:"h-64 inline"}),Object(d.jsx)("div",{className:"my-4 text-2xl text-center font-bold",children:c.name}),Object(d.jsx)("div",{className:"italic text-center",children:c.author})]}),Object(d.jsxs)("form",{method:"post",className:"w-full lg:w-6/12",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),s={},n=Object(P.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var r=t.value;s[r[0]]=r[1]}}catch(i){n.e(i)}finally{n.f()}O.a.put(g("booktitle/:id",{id:c.id}),f.a.stringify(Object(u.a)({},s))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),m({message:"Book Title Edited Successfully",type:"success"})):(window.scrollTo(0,0),m({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[b&&Object(d.jsx)(C,{message:b.message,type:b.type,onClick:function(){return m(null)}}),Object(d.jsx)(I,{type:"text",id:"name",name:"name",label:"Book Name",value:c.name,placeholder:"Example Book"}),Object(d.jsx)(I,{type:"text",id:"author",name:"author",label:"Author",value:c.author,placeholder:"Joe Doe"}),Object(d.jsx)(I,{type:"text",id:"isbn",name:"isbn",label:"ISBN",value:c.isbn,placeholder:"3232183828"}),Object(d.jsx)(I,{type:"text",id:"date_publication",name:"date_publication",value:c.date_publication,placeholder:"1998",label:"Publish Date"}),Object(d.jsx)(I,{type:"text",id:"publisher",name:"publisher",label:"Publisher",value:c.publisher,placeholder:"Example Publisher"}),Object(d.jsx)(I,{type:"text",id:"genre",name:"genre",label:"Genre",value:c.genre,placeholder:"e.g. Action"}),Object(d.jsx)(I,{type:"number",id:"rating",name:"rating",label:"Rating",value:c.rating,placeholder:"10"}),Object(d.jsx)(I,{type:"text",id:"photo",name:"photo",label:"Picture",value:c.photo,placeholder:"https://mrtns.eu/tovar/_l/440/l440953.jpg"}),Object(d.jsx)(R,{type:"text",id:"description",name:"description",label:"Description",value:c.description,placeholder:"Lorem ipsum..."}),Object(d.jsx)("div",{className:"flex items-end",children:Object(d.jsx)(w,{type:"submit",text:"Save",variant:"primary",className:"ml-auto",icon:Object(d.jsx)(o.p,{className:"h-6 mr-1"})})})]})]})})]})}},{name:"LibraryList",url:"/libraries",roles:["admin"],component:function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([]),r=Object(l.a)(n,2),i=r[0],j=r[1];return Object(s.useEffect)((function(){O.a.get(g("library")).then((function(e){return j(e.data.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"flex justify-between",children:[Object(d.jsx)(k,{to:fe("Dashboard"),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsx)(k,{to:fe("LibraryCreate"),variant:"green",icon:Object(d.jsx)(o.o,{className:"h-6 mr-1"}),text:"New Library"})]}),Object(d.jsxs)("div",{className:"Content mt-4",children:[a&&Object(d.jsx)(C,{message:a.message,type:a.type,onClick:function(){return c(null)}}),Object(d.jsx)("h1",{className:"Content-Title",children:"Libraries"}),Object(d.jsx)("div",{className:"overflow-auto",children:Object(d.jsxs)(D,{children:[Object(d.jsx)(E,{children:Object(d.jsxs)(A,{children:[Object(d.jsx)(_,{children:"Name"}),Object(d.jsx)(_,{children:"Address"}),Object(d.jsx)(_,{children:"Actions"})]})}),Object(d.jsx)(F,{children:i.map((function(e,t){return Object(d.jsxs)(A,{index:t,striped:!0,children:[Object(d.jsx)(U,{children:e.name}),Object(d.jsxs)(U,{children:[Object(d.jsx)("div",{className:"font-bold",children:e.city}),Object(d.jsx)("div",{className:"hidden lg:block",children:e.street})]}),Object(d.jsx)(U,{children:Object(d.jsxs)("div",{className:"flex items-center gap-2",children:[Object(d.jsx)(k,{to:fe("LibraryShow",{id:e.id}),variant:"primary",icon:Object(d.jsx)(o.g,{className:"h-6 mr-1"}),text:"Manage",showText:"md"}),Object(d.jsx)(k,{to:fe("LibraryEdit",{id:e.id}),variant:"yellow",icon:Object(d.jsx)(o.n,{className:"h-6 mr-1"}),text:"Edit",showText:"md"}),Object(d.jsx)(w,{type:"button",variant:"red",icon:Object(d.jsx)(o.s,{className:"h-6 mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void O.a.delete(g("library/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),c({message:"Library Deleted",type:"success"})):(window.scrollTo(0,0),c({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})},exact:!0},{name:"LibraryCreate",url:"/libraries/create",roles:["admin"],component:function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k,{to:fe("LibraryList"),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsx)("div",{className:"Content mt-4",children:Object(d.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),s={},n=Object(P.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var r=t.value;s[r[0]]=r[1]}}catch(i){n.e(i)}finally{n.f()}O.a.post(g("booktitle"),f.a.stringify(Object(u.a)({},s))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),c({message:"Library Created Successfully",type:"success"})):(window.scrollTo(0,0),c({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[a&&Object(d.jsx)(C,{message:a.message,type:a.type,onClick:function(){return c(null)}}),Object(d.jsx)(I,{type:"text",id:"name",name:"name",label:"Library Name",placeholder:"Library"}),Object(d.jsx)(I,{type:"text",id:"city",name:"city",label:"City",placeholder:"London"}),Object(d.jsx)(I,{type:"text",id:"street",name:"street",label:"Street",placeholder:"987 Oxford Street, LN 13224"}),Object(d.jsx)(I,{type:"text",id:"open_hours",name:"open_hours",placeholder:"8:00 - 14:00",label:"Opening hours"}),Object(d.jsx)(R,{type:"text",id:"description",name:"description",label:"Description",placeholder:"Lorem ipsum..."}),Object(d.jsx)("div",{className:"flex items-end",children:Object(d.jsx)(w,{type:"submit",text:"Create",variant:"green",className:"ml-auto",icon:Object(d.jsx)(o.o,{className:"h-6 mr-1"})})})]})})]})},exact:!0},{name:"LibraryShow",url:"/libraries/:id",roles:["admin","librarian"],component:function(){var e=Object(i.h)().id,t=Object(s.useState)({}),a=Object(l.a)(t,2),c=a[0],n=a[1];return Object(s.useEffect)((function(){O.a.get(g("library/:id",{id:e})).then((function(e){return n(e.data.data)})).catch((function(e){return console.log(e)}))}),[e]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(d.jsx)(k,{to:N.isAdmin()?fe("LibraryList"):fe("Dashboard"),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsx)(k,{to:fe("LibraryEdit",{id:c.id}),text:"Edit",icon:Object(d.jsx)(o.n,{className:"h-6 mr-1"}),variant:"yellow"})]}),Object(d.jsx)("div",{className:"Content mt-4",children:Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)(o.l,{className:"mx-auto h-32 bg-indigo-600 text-white rounded-full p-4"}),Object(d.jsx)("div",{className:"my-4 text-2xl font-bold",children:c.name}),Object(d.jsxs)("div",{className:"text-gray-500 my-4",children:[Object(d.jsx)("div",{className:"font-bold",children:c.city}),c.street]}),Object(d.jsxs)("div",{className:"text-lg my-4",children:[Object(d.jsx)("b",{children:"Opening Hours:"})," ",c.open_hours]}),Object(d.jsx)("div",{className:"italic text-center px-20",children:c.description}),Object(d.jsxs)("div",{className:"flex flex-col md:flex-row mt-8 gap-4",children:[Object(d.jsx)(k,{to:fe("LibraryReservation",{id:c.id}),text:"Reservations",icon:Object(d.jsx)(o.h,{className:"h-12 mr-2 text-indigo-600"}),variant:"secondary",className:"w-full md:w-1/3"}),Object(d.jsx)(k,{to:fe("LibraryBorrowing",{id:c.id}),text:"Borrowings",icon:Object(d.jsx)(o.r,{className:"h-12 mr-2 text-indigo-600"}),variant:"secondary",className:"w-full md:w-1/3"}),Object(d.jsx)(k,{to:fe("LibraryStock",{id:c.id}),text:"Stock",icon:Object(d.jsx)(o.a,{className:"h-12 mr-2 text-indigo-600"}),variant:"secondary",className:"w-full md:w-1/3"})]})]})})]})},exact:!0},{name:"LibraryEdit",url:"/libraries/:id/edit",roles:["admin","librarian"],component:function(){var e=Object(i.h)().id,t=Object(s.useState)({}),a=Object(l.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(null),j=Object(l.a)(r,2),b=j[0],m=j[1];return Object(s.useEffect)((function(){O.a.get(g("library/:id",{id:e})).then((function(e){return n(e.data.data)})).catch((function(e){return console.log(e)}))}),[e,b]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k,{to:fe("LibraryShow",{id:c.id}),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsx)("div",{className:"Content mt-4",children:Object(d.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[Object(d.jsxs)("div",{className:"w-full lg:w-6/12 mb-8 lg:mb-0 text-center",children:[Object(d.jsx)(o.l,{className:"mx-auto h-32 bg-indigo-600 text-white rounded-full p-4"}),Object(d.jsx)("div",{className:"my-4 text-2xl text-center font-bold",children:c.name}),Object(d.jsx)("div",{className:"italic text-center px-20",children:c.description})]}),Object(d.jsxs)("form",{method:"post",className:"w-full lg:w-6/12",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),s={},n=Object(P.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var r=t.value;s[r[0]]=r[1]}}catch(i){n.e(i)}finally{n.f()}O.a.put(g("library/:id",{id:c.id}),f.a.stringify(Object(u.a)({},s))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),m({message:"Library Edited Successfully",type:"success"})):(window.scrollTo(0,0),m({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[b&&Object(d.jsx)(C,{message:b.message,type:b.type,onClick:function(){return m(null)}}),Object(d.jsx)(I,{type:"text",id:"name",name:"name",label:"Library Name",value:c.name,placeholder:"Library"}),Object(d.jsx)(I,{type:"text",id:"city",name:"city",label:"City",value:c.city,placeholder:"London"}),Object(d.jsx)(I,{type:"text",id:"street",name:"street",label:"Street",value:c.street,placeholder:"2987 Oxford Street, LN 13224"}),Object(d.jsx)(I,{type:"text",id:"open_hours",name:"open_hours",value:c.open_hours,placeholder:"8:00 - 14:00",label:"Opening hours"}),Object(d.jsx)(R,{type:"text",id:"description",name:"description",label:"Description",value:c.description,placeholder:"Lorem ipsum..."}),Object(d.jsx)("div",{className:"flex items-end",children:Object(d.jsx)(w,{type:"submit",text:"Save",variant:"primary",className:"ml-auto",icon:Object(d.jsx)(o.p,{className:"h-6 mr-1"})})})]})]})})]})}},{name:"LibraryReservation",url:"/libraries/:id/reservations",roles:["admin","librarian"],component:function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(null),r=Object(l.a)(n,2),j=r[0],b=r[1],u=Object(i.h)().id;return Object(s.useEffect)((function(){O.a.get(g("reservation/of/lib/:id",{id:u})).then((function(e){return c(e.data.data)})).catch((function(e){return console.log(e)}))}),[u,j]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"flex justify-between",children:Object(d.jsx)(k,{to:fe("LibraryShow",{id:u}),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"})}),Object(d.jsxs)("div",{className:"Content mt-4",children:[j&&Object(d.jsx)(C,{message:j.message,type:j.type,onClick:function(){return b(null)}}),Object(d.jsx)("h1",{className:"Content-Title",children:"'s Reservations"}),Object(d.jsx)("div",{className:"overflow-auto",children:Object(d.jsxs)(D,{children:[Object(d.jsx)(E,{children:Object(d.jsxs)(A,{children:[Object(d.jsx)(_,{children:"#"}),Object(d.jsx)(_,{children:"User"}),Object(d.jsx)(_,{children:"Book"}),Object(d.jsx)(_,{children:"Date Reservation"}),Object(d.jsx)(_,{children:"Actions"})]})}),Object(d.jsx)(F,{children:a.map((function(e,t){return Object(d.jsxs)(A,{index:t,striped:!0,children:[Object(d.jsx)(U,{children:e.id}),Object(d.jsx)(U,{children:e.user}),Object(d.jsx)(U,{children:e.book_title}),Object(d.jsx)(U,{children:e.date_of_reservation}),Object(d.jsx)(U,{children:Object(d.jsxs)("div",{className:"flex items-center gap-2",children:[Object(d.jsx)(w,{type:"button",variant:"green",icon:Object(d.jsx)(o.d,{className:"h-6 mr-1"}),text:"Confirm",showText:"md",onClick:function(){return t=e.id,void O.a.get(g("reservation/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),b({message:"Reservation confirmed",type:"success"})):(window.scrollTo(0,0),b({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}}),Object(d.jsx)(w,{type:"button",variant:"red",icon:Object(d.jsx)(o.s,{className:"h-6 mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void O.a.delete(g("reservation/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),b({message:"Reservation deleted",type:"success"})):(window.scrollTo(0,0),b({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})}},{name:"LibraryBorrowing",url:"/libraries/:id/borrowings",roles:["admin","librarian"],component:function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)({}),r=Object(l.a)(n,2),j=r[0],b=r[1],u=Object(s.useState)(null),m=Object(l.a)(u,2),x=m[0],h=m[1],p=Object(i.h)().id;return Object(s.useEffect)((function(){O.a.get(g("borrowing/of/lib/:id",{id:p})).then((function(e){return c(e.data.data)})).catch((function(e){return console.log(e)})),O.a.get(g("library/:id",{id:p})).then((function(e){return b(e.data.data)})).catch((function(e){return console.log(e)}))}),[p,x]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"flex justify-between",children:Object(d.jsx)(k,{to:fe("LibraryShow",{id:p}),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"})}),Object(d.jsxs)("div",{className:"Content mt-4",children:[x&&Object(d.jsx)(C,{message:x.message,type:x.type,onClick:function(){return h(null)}}),Object(d.jsxs)("h1",{className:"Content-Title",children:[j.name,"'s Borrowings"]}),Object(d.jsx)("div",{className:"overflow-auto",children:Object(d.jsxs)(D,{children:[Object(d.jsx)(E,{children:Object(d.jsxs)(A,{children:[Object(d.jsx)(_,{children:"#"}),Object(d.jsx)(_,{children:"User"}),Object(d.jsx)(_,{children:"Book"}),Object(d.jsx)(_,{children:"Date Borrowed"}),Object(d.jsx)(_,{children:"Date To Return"}),Object(d.jsx)(_,{children:"Fine"}),Object(d.jsx)(_,{children:"Actions"})]})}),Object(d.jsx)(F,{children:a.map((function(e,t){return Object(d.jsxs)(A,{index:t,striped:!0,children:[Object(d.jsx)(U,{children:e.id}),Object(d.jsx)(U,{children:e.user}),Object(d.jsx)(U,{children:e.book_title}),Object(d.jsx)(U,{children:e.date_borrowed}),Object(d.jsx)(U,{children:e.date_returned}),Object(d.jsx)(U,{children:e.fine}),Object(d.jsx)(U,{children:Object(d.jsxs)("div",{className:"flex items-center gap-2",children:[Object(d.jsx)(k,{to:fe("LibraryBorrowingEdit",{idLibrary:j.id,idBorrowing:e.id}),variant:"yellow",icon:Object(d.jsx)(o.n,{className:"h-6 mr-1"}),text:"Edit",showText:"md"}),Object(d.jsx)(w,{type:"button",variant:"red",icon:Object(d.jsx)(o.s,{className:"h-6 mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void O.a.delete(g("borrowing/:id",{idBorrowing:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),h({message:"Borrowing deleted",type:"success"})):(window.scrollTo(0,0),h({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})},exact:!0},{name:"LibraryBorrowingEdit",url:"/libraries/:idLibrary/borrowings/:idBorrowing/edit",roles:["admin","librarian"],component:function(){var e=Object(i.h)(),t=e.idLibrary,a=e.idBorrowing,c=Object(s.useState)({}),n=Object(l.a)(c,2),r=n[0],j=n[1],b=Object(s.useState)(null),m=Object(l.a)(b,2),x=m[0],h=m[1];return Object(s.useEffect)((function(){O.a.get(g("borrowing/:id",{id:a})).then((function(e){return j(e.data.data)})).catch((function(e){return console.log(e)}))}),[a,x]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k,{to:fe("LibraryBorrowing",{id:t}),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsxs)("div",{className:"Content mt-4",children:[x&&Object(d.jsx)(C,{message:x.message,type:x.type,onClick:function(){return h(null)}}),Object(d.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[Object(d.jsx)("div",{className:"w-full lg:w-6/12 mb-8 lg:mb-0 text-center",children:Object(d.jsx)(o.r,{className:"mx-auto h-32 bg-indigo-600 text-white rounded-full p-4"})}),Object(d.jsxs)("form",{method:"post",className:"w-full lg:w-6/12",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),s={},c=Object(P.a)(a.entries());try{for(c.s();!(t=c.n()).done;){var n=t.value;s[n[0]]=n[1]}}catch(i){c.e(i)}finally{c.f()}O.a.put(g("library/:id",{id:r.id}),f.a.stringify(Object(u.a)({},s))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),h({message:"Library Edited Successfully",type:"success"})):(window.scrollTo(0,0),h({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[x&&Object(d.jsx)(C,{message:x.message,type:x.type,onClick:function(){return h(null)}}),Object(d.jsx)(I,{type:"text",id:"fine",name:"fine",label:"Fine",value:r.fine,placeholder:"Library"}),Object(d.jsx)(I,{type:"text",label:"Date Returned",value:r.date_returned,disabled:!0}),Object(d.jsxs)("div",{className:"flex justify-between",children:[Object(d.jsx)(w,{type:"button",text:"Extend",variant:"yellow",icon:Object(d.jsx)(o.f,{className:"h-6 mr-1"}),onClick:function(){return function(e){O.a.put(g("borrowing/:id",{id:e}),{extend:!0,fine:r.fine}).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),h({message:"Borrowing updated",type:"success"})):(window.scrollTo(0,0),h({message:e.data.message,type:"danger"}))}))}(r.id)}}),Object(d.jsx)(w,{type:"submit",text:"Save",variant:"primary",icon:Object(d.jsx)(o.p,{className:"h-6 mr-1"})})]})]})]})]})]})}},{name:"LibraryStock",url:"/libraries/:id/stock",roles:["admin","librarian"],component:function(){return Object(d.jsx)("div",{children:"LibraryStock"})}},{name:"UserList",url:"/users",roles:["admin"],component:function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([]),r=Object(l.a)(n,2),i=r[0],j=r[1];return Object(s.useEffect)((function(){O.a.get(g("person")).then((function(e){return j(e.data.data)})).catch((function(e){return console.log(e)}))}),[a]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"flex justify-between",children:[Object(d.jsx)(k,{to:fe("Dashboard"),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsx)(k,{to:fe("UserCreate"),variant:"green",icon:Object(d.jsx)(o.o,{className:"h-6 mr-1"}),text:"New User"})]}),Object(d.jsxs)("div",{className:"Content mt-4",children:[a&&Object(d.jsx)(C,{message:a.message,type:a.type,onClick:function(){return c(null)}}),Object(d.jsx)("h1",{className:"Content-Title",children:"Users"}),Object(d.jsx)("div",{className:"overflow-auto",children:Object(d.jsxs)(D,{children:[Object(d.jsx)(E,{children:Object(d.jsxs)(A,{children:[Object(d.jsx)(_,{children:"Username"}),Object(d.jsx)(_,{children:"Full Name"}),Object(d.jsx)(_,{children:"Type"}),Object(d.jsx)(_,{children:"Employee"})]})}),Object(d.jsx)(F,{children:i.map((function(e,t){return Object(d.jsxs)(A,{index:t,striped:!0,children:[Object(d.jsx)(U,{children:e.username}),Object(d.jsx)(U,{children:e.name+" "+e.surname}),Object(d.jsx)(U,{children:N.convertToUserType(e.user_type)}),Object(d.jsx)(U,{children:Object(d.jsxs)("div",{className:"flex items-center gap-2",children:[Object(d.jsx)(k,{to:fe("UserEdit",{id:e.id}),variant:"yellow",icon:Object(d.jsx)(o.n,{className:"h-6 mr-1"}),text:"Edit",showText:"md"}),Object(d.jsx)(w,{type:"button",variant:"red",icon:Object(d.jsx)(o.s,{className:"h-6 mr-1"}),text:"Delete",showText:"md",onClick:function(){return t=e.id,void O.a.delete(g("person/:id",{id:t})).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),c({message:"Person Deleted",type:"success"})):(window.scrollTo(0,0),c({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}));var t}})]})})]},t)}))})]})})]})]})},exact:!0},{name:"UserCreate",url:"/users/create",roles:["admin"],component:function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([]),r=Object(l.a)(n,2),i=r[0],j=r[1];Object(s.useEffect)((function(){O.a.get(g("library")).then((function(e){return j(e.data.data)})).catch((function(e){return console.log(e)}))}),[a]);var b=[{value:1,label:"User"},{value:3,label:"Distributor"},{value:4,label:"Librarian"},{value:5,label:"Admin"}],m=[{value:null,label:"No Library"}];return i.map((function(e){return m.push({value:e.id,label:e.name})})),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k,{to:fe("UserList"),variant:"secondary",icon:Object(d.jsx)(o.e,{className:"h-6 mr-1"}),text:"Back"}),Object(d.jsx)("div",{className:"Content mt-4",children:Object(d.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault();var t,a=new FormData(e.target),s={},n=Object(P.a)(a.entries());try{for(n.s();!(t=n.n()).done;){var r=t.value;s[r[0]]=r[1]}}catch(i){n.e(i)}finally{n.f()}O.a.post(g("person"),f.a.stringify(Object(u.a)({},s))).then((function(e){"success"===e.data.status?(window.scrollTo(0,0),c({message:"User Created Successfully",type:"success"})):(window.scrollTo(0,0),c({message:e.data.message,type:"danger"}))})).catch((function(e){return console.log(e)}))},children:[a&&Object(d.jsx)(C,{message:a.message,type:a.type,onClick:function(){return c(null)}}),Object(d.jsx)(I,{type:"text",id:"username",name:"username",label:"Username",placeholder:"Username"}),Object(d.jsxs)("div",{className:"flex flex-row",children:[Object(d.jsx)("div",{className:"w-1/2 pr-2",children:Object(d.jsx)(I,{type:"text",id:"name",name:"name",label:"First Name",placeholder:"Joe"})}),Object(d.jsx)("div",{className:"w-1/2 pl-2",children:Object(d.jsx)(I,{type:"text",id:"surname",name:"surname",label:"Last Name",placeholder:"Doe"})})]}),Object(d.jsx)(I,{type:"email",id:"email",name:"email",placeholder:"user@example.com",label:"Email"}),Object(d.jsx)(I,{type:"password",id:"password",name:"password",placeholder:"Password",label:"Password"}),Object(d.jsxs)("div",{className:"mb-2",children:[Object(d.jsx)("div",{className:"mb-1 cursor-default",children:"User type"}),Object(d.jsx)(he.a,{className:"Select",defaultValue:b[0],name:"user_type",options:b})]}),Object(d.jsxs)("div",{className:"mb-2",children:[Object(d.jsx)("div",{className:"mb-1 cursor-default",children:"Librarian"}),Object(d.jsx)(he.a,{className:"Select",defaultValue:m[0],name:"library_id",options:m})]}),Object(d.jsx)(R,{type:"text",id:"profiledesc",name:"profiledesc",label:"Profile Description",placeholder:"Lorem ipsum..."}),Object(d.jsx)("div",{className:"flex items-end",children:Object(d.jsx)(w,{type:"submit",text:"Create",variant:"green",className:"ml-auto",icon:Object(d.jsx)(o.o,{className:"h-6 mr-1"})})})]})})]})}},{name:"UserEdit",url:"/users/:id/edit",roles:["admin"],component:function(){return Object(d.jsx)("div",{children:"UserEdit"})}}],fe=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="/admin";if(void 0!==(t=pe.find((function(t){return t.name===e?s+t:void 0})).url))for(var c in a)t=t.replace(":".concat(c),a[c]);return t=s+t},ve=function(){return Object(d.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(d.jsx)("div",{className:"mb-4 text-4xl font-bold text-red-500",children:"404"}),Object(d.jsx)("div",{className:"mb-8 text-2xl text-gray-600",children:"Not Found"}),Object(d.jsx)("img",{src:ne,alt:"Not Authorized",className:"h-60"})]})};var ge=Object(i.j)((function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L,{}),Object(d.jsx)(S,{children:Object(d.jsxs)(i.d,{children:[Oe.map((function(e,t){return Object(d.jsx)(i.b,{path:e.url,component:e.component,exact:e.exact},t)})),Object(d.jsx)(i.b,{path:"/",component:ve})]})}),Object(d.jsx)(B,{})]})}));r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)("div",{className:"flex items-center justify-center bg-gray-50",style:{width:"100vw",height:"100vh"},children:Object(d.jsx)("div",{className:"text-4xl font-bold",children:"Loading..."})})}),document.getElementById("root")),N.checkAuthSession().then((function(){r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(b.a,{children:Object(d.jsx)(ge,{})})}),document.getElementById("root"))}))},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){}},[[203,1,2]]]);
//# sourceMappingURL=main.935b4e9a.chunk.js.map